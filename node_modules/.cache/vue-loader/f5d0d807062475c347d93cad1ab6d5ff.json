{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\views\\systemManagement\\userManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\views\\systemManagement\\userManagement.vue","mtime":1608618355349},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBpcyBmcm9tICJAL2FwaXMvYXBpcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYmxlRGF0YTogW10sIC8vIOihqOagvOWGheWuuQ0KICAgICAgdGFibGVEYXRhUm93OiB7fSwgLy8g6KGo5qC855qE5p+Q5p2h5YaF5a65DQogICAgICBsYWJlbERhdGE6IFtdLCAvLyDmnLrmnoTlhoXlrrkNCiAgICAgIGZpbHRlclRleHQ6ICIiLCAvLyDmqKHns4rmn6Xor6LmnLrmnoTovpPlhaXmoYYNCiAgICAgIGxhYmVsRGF0YVByb3BzOiB7DQogICAgICAgIGxhYmVsOiAibmFtZSIsDQogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLA0KICAgICAgfSwNCiAgICAgIGxhYmVsUG9zaXRpb246ICJyaWdodCIsIC8vbGFibGXlr7npvZDmlrnlvI8NCiAgICAgIGxhYmVsV2lkdGg6ICI4MHB4IiwgLy9sYWJsZeWuveW6pg0KICAgICAgZm9ybVNlZVZpc2libGU6IGZhbHNlLCAvLyDmn6XnnIvop5LoibLlvLnlh7rmoYbnmoTluIPlsJTlgLwNCiAgICAgIGZvcm1Nb2RpZnlWaXNpYmxlOiBmYWxzZSwgLy8g5L+u5pS56KeS6Imy5by55Ye65qGG55qE5biD5bCU5YC8DQogICAgICAvLyDmlrDlop7nlKjmiLflhoXlrrkNCiAgICAgIGZvcm1BZGREYXRhOiB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgICByZ2FuTmFtZTogIiIsDQogICAgICAgIHVwZGF0ZVRpbWU6ICIiLA0KICAgICAgICB1cGRhdGVUaW1lOiAiIiwNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwaG9uZTogIiIsDQogICAgICAgIG9yZ2FuSWQ6ICIiLA0KICAgICAgICBvcmdhbk5hbWU6ICIiLA0KICAgICAgICByb2xlTGlzdDogW10sDQogICAgICAgIHJvbGVJZHM6IFtdLA0KICAgICAgfSwNCiAgICAgIGZvcm1BZGRWaXNpYmxlOiBmYWxzZSwgLy8g5paw5aKe6KeS6Imy5by55Ye65qGG55qE5biD5bCU5YC8DQogICAgICBwYXNzd29yZFZpc2libGU6IGZhbHNlLCAvLyDkv67mlLnlr4bnoIHlvLnlh7rmoYbnmoTluIPlsJTlgLwNCiAgICAgIC8vIOeUqOaIt+euoeeQhuafpeivouWPguaVsOmFjee9rg0KICAgICAgcGFnZVJvdzogew0KICAgICAgICBjdXJyZW50OiAxLCAvLyDmn6Xor6LlvZPliY3pobXmlbANCiAgICAgICAgc2l6ZTogMTAsIC8vIOaVsOaNruWkp+Wwjw0KICAgICAgICBvcmdhbklkOiAiIiwgLy8g5py65p6ESUQNCiAgICAgIH0sDQogICAgICAvLyDnmbvpmYbml6Xlv5fmn6Xor6Llj4LmlbDphY3nva4NCiAgICAgIGxvZ2luUm93OiB7DQogICAgICAgIGN1cnJlbnQ6IDEsIC8vIOafpeivouW9k+WJjemhteaVsA0KICAgICAgICBzaXplOiAxMCwgLy8g5pWw5o2u5aSn5bCPDQogICAgICAgIGNyZWF0ZUlkOiAiIiwgLy8g55m76ZmG6ICFSUQNCiAgICAgIH0sDQogICAgICBsb2dpbkRhdGE6IFtdLCAvLyDml6Xlv5flhoXlrrkNCiAgICAgIGxvZ2luVmlzaWJsZTogZmFsc2UsIC8vIOaXpeW/l+WGheWuueW8ueWHuuahhueahOW4g+WwlOWAvA0KICAgICAgcGFnZURhdGE6IHsNCiAgICAgICAgdG90YWw6ICIiLA0KICAgICAgfSwgLy8g55m76ZmG5pel5b+X5YiG6aG15pWw5o2uDQogICAgICBsb2dpbkRhdGFSb3c6IHt9LCAvLyDljZXooYzml6Xlv5cNCiAgICAgIGxvZ2luU2VlVmlzaWJsZTogZmFsc2UsIC8vIOWNleihjOaXpeW/l+W8ueWHuuahhueahOW4g+WwlOWAvA0KICAgIH07DQogIH0sDQogIC8vIOWIneWni+WMluihqOagvOWPguaVsA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0VXBtc09yZ2FuVHJlZSgpOw0KICAgIHRoaXMuZm9ybUdldENsaWNrKCk7DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgYnV0dG9uTGlzdCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5fbW9kdWxlcy5yb290LmNvbnRleHQuc3RhdGUuYnV0dG9uLmJ1dHRvbkxpc3Q7DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGZpbHRlclRleHQodmFsKSB7DQogICAgICB0aGlzLiRyZWZzLnRyZWUuZmlsdGVyKHZhbCk7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOiOt+WPluaJgOacieinkuiJsuaVsOaNrg0KICAgIGFzeW5jIGdldFVwbXNSb2xlUGFnZSgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaXMuYWRtaW5BcGkuZ2V0VXBtc1JvbGVQYWdlKCk7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgcmV0dXJuIHJlcy5kYXRhLmRhdGEucmVjb3JkczsNCiAgICB9LA0KICAgIC8vIOiOt+WPluaJgOacieeUqOaIt+aVsOaNrg0KICAgIGFzeW5jIGdldFVwbXNVc2VyUGFnZSgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaXMuYWRtaW5BcGkuZ2V0VXBtc1VzZXJQYWdlKHRoaXMucGFnZVJvdyk7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgY29uc3QgdGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5yZWNvcmRzOw0KICAgICAgY29uc29sZS5sb2codGFibGVEYXRhKTsNCiAgICAgIHJldHVybiB0YWJsZURhdGE7DQogICAgfSwNCiAgICAvLyDliJ3lp4vljJbooajmoLzmlbDmja4NCiAgICBhc3luYyBmb3JtR2V0Q2xpY2soKSB7DQogICAgICAvLyDlpJrkuKrlvILmraXlh73mlbDnmoTml7blgJnvvIzlhYjliJ3lp4vljJbmiYDmnInlvILmraXlh73mlbDnlKjku6XlubPooYzliqDpgJ8NCiAgICAgIGxldCBSb2xlTGlzdCA9IHRoaXMuZ2V0VXBtc1JvbGVQYWdlKCk7DQogICAgICBsZXQgdGFibGVEYXRhID0gdGhpcy5nZXRVcG1zVXNlclBhZ2UoKTsNCiAgICAgIFJvbGVMaXN0ID0gYXdhaXQgUm9sZUxpc3Q7DQogICAgICB0YWJsZURhdGEgPSBhd2FpdCB0YWJsZURhdGE7DQogICAgICBjb25zb2xlLmxvZyhSb2xlTGlzdCk7DQogICAgICAvLyDliKTmlq3nlKjmiLfmlbDmja7kuK3nmoRyb2xlSWRzWzBd5aaC5p6c562J5LqO6KeS6Imy55qEaWTlsLHmiorop5LoibLlkI3np7Aocm9sZU5hbWUp6LWL57uZ5a6D44CCDQogICAgICB0YWJsZURhdGEuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBsYXp5OiBmb3IgKGxldCBpID0gMDsgaSA8IFJvbGVMaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKGl0ZW0ucm9sZUlkc1swXSA9PSBSb2xlTGlzdFtpXS5pZCkgew0KICAgICAgICAgICAgaXRlbS5yb2xlTmFtZSA9IFJvbGVMaXN0W2ldLnJvbGVOYW1lOw0KICAgICAgICAgICAgYnJlYWsgbGF6eTsgLy8g6Lez5Ye65b6q546vDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIGNvbnNvbGUubG9nKHRhYmxlRGF0YSk7DQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHRhYmxlRGF0YTsNCiAgICB9LA0KICAgIC8vIOWIt+aWsOihqOagvA0KICAgIHJlZnJlc2goKSB7DQogICAgICB0aGlzLnRhYmxlRGF0YSA9IFtdOw0KICAgICAgdGhpcy5mb3JtR2V0Q2xpY2soKTsNCiAgICB9LA0KICAgIC8vIOi/lOWbnuacuuaehOagkeW9oueUqOaIt+mbhuWQiFvliJfooajor7fmsYJdDQogICAgYXN5bmMgZ2V0VXBtc09yZ2FuVHJlZSgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaXMuYWRtaW5BcGkuZ2V0VXBtc09yZ2FuVHJlZSgpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIHRoaXMubGFiZWxEYXRhID0gcmVzLmRhdGEuZGF0YTsNCiAgICB9LA0KICAgIC8vIOaooeeziuafpeivouacuuaehOagkeW9oueUqOaIt+mbhuWQiA0KICAgIGZpbHRlck5vZGUodmFsdWUsIGRhdGEpIHsNCiAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCBkYXRhKTsNCiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlOw0KICAgICAgcmV0dXJuIGRhdGEubmFtZS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7DQogICAgfSwNCiAgICAvLyDngrnlh7vmnLrmnoTnu4Tnu4flm57osIMNCiAgICBsYWJlbERhdGFDbGljayhyb3csIGUpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvdyk7DQogICAgICBpZiAoZSA9PSAiYWRkIikgew0KICAgICAgICB0aGlzLmZvcm1BZGREYXRhLm9yZ2FuSWQgPSByb3cuaWQ7IC8v5bCG57uT5p6E55qEaWTnu5nmlrDlop7nmoRvcmdhbklkDQogICAgICAgIHRoaXMuZm9ybUFkZERhdGEub3JnYW5OYW1lID0gcm93Lm5hbWU7IC8v5bCG57uT5p6E55qEbmFtZee7meaWsOWinueahG9yZ2FuTmFtZQ0KICAgICAgfSBlbHNlIGlmIChlID09ICJyb3ciKSB7DQogICAgICAgIHRoaXMudGFibGVEYXRhUm93Lm9yZ2FuSWQgPSByb3cuaWQ7IC8v5bCG57uT5p6E55qEaWTnu5nmlrDlop7nmoRvcmdhbklkDQogICAgICAgIHRoaXMudGFibGVEYXRhUm93Lm9yZ2FuTmFtZSA9IHJvdy5uYW1lOyAvL+Wwhue7k+aehOeahG5hbWXnu5nmlrDlop7nmoRvcmdhbk5hbWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGFnZVJvdy5vcmdhbklkID0gcm93LmlkOyAvL+Wwhue7k+aehOeahGlk57uZ5p+l6K+i55qEb3JnYW5JZA0KICAgICAgICB0aGlzLnJlZnJlc2goKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOeCueWHu+afpeeci+afkOadoeeUqOaItw0KICAgIGZvcm1TZWVDbGljayhyb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvdyk7DQogICAgICB0aGlzLnRhYmxlRGF0YVJvdyA9IHJvdzsNCiAgICAgIHRoaXMuZm9ybVNlZVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g54K55Ye757yW6L6R5p+Q5p2h55So5oi3DQogICAgYXN5bmMgZm9ybU1vZGlmeUNsaWNrKHJvdykgew0KICAgICAgdGhpcy50YWJsZURhdGFSb3cgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdykpOw0KICAgICAgY29uc3Qgcm9sZUxpc3QgPSBhd2FpdCB0aGlzLmdldFVwbXNSb2xlUGFnZSgpOw0KICAgICAgY29uc29sZS5sb2cocm9sZUxpc3QpOw0KICAgICAgdGhpcy50YWJsZURhdGFSb3cucm9sZUxpc3QgPSByb2xlTGlzdDsgLy8g57uR5a6a6KeS6Imy5aSa6YCJ5qGG5pWw5o2uDQogICAgICB0aGlzLmZvcm1Nb2RpZnlWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8vIOeCueWHu+e8lui+keafkOadoeeUqOaIt+WQjuehruWumg0KICAgIGFzeW5jIGZvcm1Nb2RpZnlEZXRlcm1pbmUoKSB7DQogICAgICB0cnkgew0KICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLnRhYmxlRGF0YVJvdy52YWxpZGF0ZSgpOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaXMuYWRtaW5BcGkucHV0VXBtc1VzZXIodGhpcy50YWJsZURhdGFSb3cpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnvJbovpHnlKjmiLfmiJDlip8iKTsNCiAgICAgICAgdGhpcy5mb3JtTW9kaWZ5VmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB0aGlzLnJlZnJlc2goKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOeCueWHu+WIoOmZpOafkOadoeeUqOaItw0KICAgIGFzeW5jIGZvcm1EZWxldGVDbGljayhyb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvdyk7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRjb25maXJtKA0KICAgICAgICAgICLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTmraTnp5/miLcsIOaYr+WQpue7p+e7rT8iLA0KICAgICAgICAgICLmj5DnpLoiLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLA0KICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy50YWJsZURhdGFSb3cgPSByb3c7DQogICAgICAgIHRoaXMuZm9ybURlbGV0ZURldGVybWluZSgpOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDnoa7lrprliKDpmaTmn5DmnaHnlKjmiLcNCiAgICBhc3luYyBmb3JtRGVsZXRlRGV0ZXJtaW5lKHJvdykgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpcy5hZG1pbkFwaS5kZWxldGVVcG1zVXNlcklkKHRoaXMudGFibGVEYXRhUm93LmlkKTsNCiAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQogICAgICAgIHRoaXMucmVmcmVzaCgpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoYOWIoOmZpOeUqOaItyR7cm93LnVzZXJuYW1lfeaIkOWKn2ApOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g54K55Ye75paw5aKe55So5oi35oyJ6ZKuDQogICAgYXN5bmMgZm9ybUFkZENsaWNrKCkgew0KICAgICAgY29uc3Qgcm9sZUxpc3QgPSBhd2FpdCB0aGlzLmdldFVwbXNSb2xlUGFnZSgpOw0KICAgICAgY29uc29sZS5sb2cocm9sZUxpc3QpOw0KICAgICAgdGhpcy5mb3JtQWRkRGF0YS5yb2xlTGlzdCA9IHJvbGVMaXN0OyAvLyDnu5Hlrprop5LoibLlpJrpgInmoYbmlbDmja4NCiAgICAgIHRoaXMuZm9ybUFkZFZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g54K55Ye75paw5aKe55So5oi35oyJ6ZKu5ZCO56Gu5a6aDQogICAgYXN5bmMgZm9ybUFkZERldGVybWluZSgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZm9ybUFkZERhdGEudmFsaWRhdGUoKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLmZvcm1BZGRWaXNpYmxlID0gZmFsc2U7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlzLmFkbWluQXBpLnBvc3RVcG1zVXNlcih0aGlzLmZvcm1BZGREYXRhKTsNCiAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5paw5aKe55So5oi35oiQ5YqfIik7DQogICAgICAgIHRoaXMucmVmcmVzaCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5L+u5pS55p+Q5Liq55So5oi355qE5a+G56CBDQogICAgY2hhbmdlUGFzc3dvcmQocm93KSB7DQogICAgICB0aGlzLnRhYmxlRGF0YVJvdyA9IHJvdzsNCiAgICAgIHRoaXMucGFzc3dvcmRWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8vIOS/ruaUueWvhueggeehruWumg0KICAgIGFzeW5jIGNoYW5nZVBhc3N3b3JkRGV0ZXJtaW5lKCkgew0KICAgICAgdGhpcy50YWJsZURhdGFSb3cucGFzc3dvcmQgPSB0aGlzLnRhYmxlRGF0YVJvdy5uZXdQYXNzd29yZDsgLy8g5bCG6L6T5YWl55qE5paw5a+G56CB6KaG55uW5Y6f5a+G56CBDQogICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlzLmFkbWluQXBpLnB1dFVwbXNVc2VyUGFzc3dvcmQodGhpcy50YWJsZURhdGFSb3cpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnlr4bnoIHmiJDlip8iKTsNCiAgICAgICAgdGhpcy5yZWZyZXNoKCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmn6Xor6LnmbvpmYbml6Xlv5cNCiAgICBhc3luYyBnZXRVcG1zTG9nbG9naW5QYWdlKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpcy5zeXN0ZW1BcGkuZ2V0VXBtc0xvZ2xvZ2luUGFnZSh0aGlzLmxvZ2luUm93KTsNCiAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICB0aGlzLnBhZ2VEYXRhID0gcmVzLmRhdGEuZGF0YTsgLy8g55m76ZmG5pel5b+X5YiG6aG15pWw5o2uDQogICAgICB0aGlzLmxvZ2luRGF0YSA9IHRoaXMucGFnZURhdGEucmVjb3JkczsgLy8g55m76ZmG5pel5b+X5pWw5o2uDQogICAgICB0aGlzLmxvZ2luVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICAvLyDnmbvpmYbml6Xlv5fngrnlh7sNCiAgICBsb2dpbkNsaWNrKHJvdykgew0KICAgICAgdGhpcy5sb2dpblJvdy5jcmVhdGVJZCA9IHJvdy50ZW5hbnRJZDsNCiAgICAgIHRoaXMuZ2V0VXBtc0xvZ2xvZ2luUGFnZSgpOw0KICAgIH0sDQogICAgLy8g5pel5b+X5YiG6aG1IHNpemUg5Y+Y5pu0DQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKHZhbCk7DQogICAgICB0aGlzLmxvZ2luUm93LnNpemUgPSB2YWw7DQogICAgICB0aGlzLmdldFVwbXNMb2dsb2dpblBhZ2UoKTsNCiAgICB9LA0KICAgIC8vIOaXpeW/l+WIhumhtSBjdXJyZW4g5Y+Y5pu0DQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKHZhbCk7DQogICAgICB0aGlzLmxvZ2luUm93LmN1cnJlbnQgPSB2YWw7DQogICAgICB0aGlzLmdldFVwbXNMb2dsb2dpblBhZ2UoKTsNCiAgICB9LA0KICAgIC8vIOeZu+mZhuaXpeW/l+afpeeciw0KICAgIGxvZ2luU2VlQ2xpY2socm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cpOw0KICAgICAgdGhpcy5sb2dpbkRhdGFSb3cgPSByb3c7DQogICAgICB0aGlzLmxvZ2luU2VlVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["userManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0mBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userManagement.vue","sourceRoot":"src/views/systemManagement","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <el-container>\r\n      <!-- 侧边栏容器 -->\r\n      <el-aside width=\"15%\">\r\n        <el-input placeholder=\"输入关键字进行过滤\" v-model=\"filterText\">\r\n        </el-input>\r\n        <el-tree\r\n          :data=\"labelData\"\r\n          :props=\"labelDataProps\"\r\n          @node-click=\"labelDataClick\"\r\n          ref=\"tree\"\r\n          :filter-node-method=\"filterNode\"\r\n        ></el-tree>\r\n      </el-aside>\r\n      <!-- 主要区域容器 -->\r\n      <el-main>\r\n        <!-- 操作区----start -->\r\n        <el-row class=\"mgb15\">\r\n          <el-col :span=\"23\">\r\n            <el-button\r\n              size=\"small\"\r\n              icon=\"el-icon-plus\"\r\n              type=\"primary\"\r\n              @click=\"formAddClick\"\r\n              v-if=\"buttonList.indexOf('sys:user:add') != -1\"\r\n              >新增</el-button\r\n            >\r\n          </el-col>\r\n          <el-col :span=\"1\">\r\n            <!-- 刷新按钮 -->\r\n            <el-tooltip\r\n              class=\"item\"\r\n              effect=\"dark\"\r\n              content=\"刷新\"\r\n              placement=\"top\"\r\n            >\r\n              <el-button\r\n                icon=\"el-icon-refresh\"\r\n                circle\r\n                size=\"small\"\r\n                @click=\"refresh\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </el-col>\r\n        </el-row>\r\n        <!-- 表格部分 -->\r\n        <el-table :data=\"tableData\" border stripe style=\"width: 100%\">\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            type=\"index\"\r\n            align=\"center\"\r\n            label=\"序号\"\r\n            width=\"60\"\r\n            min-width=\"150\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"username\"\r\n            align=\"center\"\r\n            label=\"账号\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"organName\"\r\n            align=\"center\"\r\n            label=\"所属机构\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"roleName\"\r\n            align=\"center\"\r\n            label=\"角色\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"lockFlag\"\r\n            align=\"center\"\r\n            label=\"允许登陆\"\r\n            min-width=\"300\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <span>{{\r\n                parseInt(scope.row.lockFlag, 10) ? \"锁定\" : \"正常\"\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"updateTime\"\r\n            align=\"center\"\r\n            label=\"创建时间\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"email\"\r\n            align=\"center\"\r\n            label=\"邮箱\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"phone\"\r\n            align=\"center\"\r\n            label=\"手机号\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            fixed=\"right\"\r\n            width=\"200\"\r\n            align=\"center\"\r\n            label=\"操作\"\r\n            min-width=\"150\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                @click=\"formSeeClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-view\"\r\n                v-if=\"buttonList.indexOf('sys:user:get') != -1\"\r\n                >查看</el-button\r\n              >\r\n              <el-button\r\n                @click=\"formModifyClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-edit\"\r\n                v-if=\"buttonList.indexOf('sys:user:edit') != -1\"\r\n                >编辑</el-button\r\n              >\r\n              <el-button\r\n                @click=\"formDeleteClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-delete\"\r\n                 v-if=\"buttonList.indexOf('sys:user:del') != -1\"\r\n                >删 除</el-button\r\n              >\r\n              <el-button\r\n                @click=\"changePassword(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                 v-if=\"buttonList.indexOf('sys:user:password') != -1\"\r\n                >修改密码</el-button\r\n              >\r\n              <el-button\r\n                @click=\"loginClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-info\"\r\n                >登陆日志</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页功能 -->\r\n        <el-pagination\r\n          @size-change=\"\r\n            pageRow.size = val;\r\n            getUpmsLogloginPage();\r\n          \"\r\n          @current-change=\"\r\n            loginRow.current = val;\r\n            getUpmsLogloginPage();\r\n          \"\r\n          :current-page=\"pageRow.current\"\r\n          :page-sizes=\"[10, 20, 30, 40, 50, 100]\"\r\n          :page-size=\"10\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"tableData.length\"\r\n        >\r\n        </el-pagination>\r\n\r\n        <!-- 查看用户 ---start -->\r\n        <el-dialog\r\n          title=\"查看用户\"\r\n          class=\"see\"\r\n          :visible.sync=\"formSeeVisible\"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :inline=\"true\"\r\n            :model=\"tableDataRow\"\r\n            class=\"demo-form-inline\"\r\n          >\r\n            <el-form-item label=\"id\">\r\n              <el-input v-model=\"tableDataRow.id\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"账号\">\r\n              <el-input v-model=\"tableDataRow.username\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属机构\">\r\n              <el-input v-model=\"tableDataRow.organName\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色\">\r\n              <el-input v-model=\"tableDataRow.roleName\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"允许登陆\">\r\n              <el-input\r\n                :value=\"parseInt(tableDataRow.lockFlag, 10) ? '锁定' : '正常'\"\r\n                readonly\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"tableDataRow.updateTime\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"tableDataRow.email\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"手机号\">\r\n              <el-input v-model=\"tableDataRow.phone\" readonly></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-dialog>\r\n\r\n        <!-- 编辑用户---start -->\r\n        <el-dialog\r\n          title=\"编辑用户\"\r\n          :visible.sync=\"formModifyVisible\"\r\n          @closed=\"\r\n            tableDataRow = {};\r\n            $refs.tableDataRow.resetFields();\r\n          \"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :model=\"tableDataRow\"\r\n            class=\"demo-form-inline lazy-form\"\r\n            ref=\"tableDataRow\"\r\n          >\r\n            <el-form-item label=\"id\">\r\n              <el-input v-model=\"tableDataRow.id\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"账号\">\r\n              <el-input v-model=\"tableDataRow.username\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属机构\">\r\n              <el-select\r\n                v-model=\"tableDataRow.organName\"\r\n                value-key=\"id\"\r\n                placeholder=\"请选择\"\r\n              >\r\n                <!-- el-option 属性没有的话会让tree没有数据，所以设置为零 -->\r\n                <el-option value=\"\" style=\"height: 0px\"> </el-option>\r\n                <el-tree\r\n                  :data=\"labelData\"\r\n                  :props=\"labelDataProps\"\r\n                  @node-click=\"labelDataClick($event, 'row')\"\r\n                ></el-tree>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"角色\"\r\n              prop=\"roleIds\"\r\n              :rules=\"{\r\n                type: 'array',\r\n                required: true,\r\n                message: '请至少选择一个角色',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-checkbox-group v-model=\"tableDataRow.roleIds\">\r\n                <el-checkbox\r\n                  v-for=\"(item, index) in tableDataRow.roleList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.id\"\r\n                  >{{ item.roleName }}</el-checkbox\r\n                >\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"允许登陆\"\r\n              prop=\"lockFlag\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '请选择类型',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-radio v-model=\"tableDataRow.lockFlag\" label=\"0\"\r\n                >正常</el-radio\r\n              >\r\n              <el-radio v-model=\"tableDataRow.lockFlag\" label=\"9\"\r\n                >锁定</el-radio\r\n              >\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"tableDataRow.updateTime\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"tableDataRow.email\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"手机号\">\r\n              <el-input v-model=\"tableDataRow.phone\" disabled></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"formModifyVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"formModifyDetermine\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 新增用户---start -->\r\n        <el-dialog\r\n          title=\"新增用户\"\r\n          :visible.sync=\"formAddVisible\"\r\n          @closed=\"\r\n            formAddData = { organName: '' };\r\n            $refs.formAddData.resetFields();\r\n          \"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :inline=\"true\"\r\n            :model=\"formAddData\"\r\n            class=\"demo-form-inline lazy-form\"\r\n            ref=\"formAddData\"\r\n          >\r\n            <el-form-item\r\n              label=\"账号\"\r\n              prop=\"username\"\r\n              :rules=\"{ required: true, message: '账号不能为空' }\"\r\n            >\r\n              <el-input v-model=\"formAddData.username\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"密码\"\r\n              prop=\"password\"\r\n              :rules=\"{ required: true, message: '密码不能为空' }\"\r\n            >\r\n              <el-input\r\n                show-password\r\n                v-model=\"formAddData.password\"\r\n                clearable\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"所属机构\"\r\n              prop=\"organName\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '请选择所属机构',\r\n              }\"\r\n            >\r\n              <el-select\r\n                v-model=\"formAddData.organName\"\r\n                value-key=\"id\"\r\n                placeholder=\"请选择\"\r\n                clearable\r\n              >\r\n                <!-- el-option 属性没有的话会让tree没有数据，所以设置为零 -->\r\n                <el-option value=\"\" style=\"height: 0px\"> </el-option>\r\n                <el-tree\r\n                  :data=\"labelData\"\r\n                  :props=\"labelDataProps\"\r\n                  @node-click=\"labelDataClick($event, 'add')\"\r\n                ></el-tree>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"角色\"\r\n              prop=\"roleIds\"\r\n              :rules=\"{\r\n                type: 'array',\r\n                required: true,\r\n                message: '请至少选择一个角色',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-checkbox-group v-model=\"formAddData.roleIds\">\r\n                <el-checkbox\r\n                  v-for=\"(item, index) in formAddData.roleList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.id\"\r\n                  >{{ item.roleName }}</el-checkbox\r\n                >\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"允许登陆\"\r\n              prop=\"lockFlag\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '请选择类型',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-radio v-model=\"formAddData.lockFlag\" label=\"0\">正常</el-radio>\r\n              <el-radio v-model=\"formAddData.lockFlag\" label=\"9\">锁定</el-radio>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"邮箱\"\r\n              prop=\"email\"\r\n              :rules=\"[\r\n                { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                {\r\n                  type: 'email',\r\n                  message: '请输入正确的邮箱地址',\r\n                  trigger: ['blur', 'change'],\r\n                },\r\n              ]\"\r\n            >\r\n              <el-input v-model=\"formAddData.email\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"手机号\"\r\n              prop=\"phone\"\r\n              :rules=\"[\r\n                { required: true, message: '请输入手机号' },\r\n                { min: 11, max: 11, message: '长度在11个字符' },\r\n              ]\"\r\n            >\r\n              <el-input v-model=\"formAddData.phone\" clearable></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"formAddVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"formAddDetermine\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 修改密码 ---start -->\r\n        <el-dialog\r\n          title=\"修改密码\"\r\n          :visible.sync=\"passwordVisible\"\r\n          width=\"700px\"\r\n          @closed=\"tableDataRow = {}\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :model=\"tableDataRow\"\r\n            class=\"demo-form-inline lazy-form\"\r\n          >\r\n            <el-form-item label=\"新密码\">\r\n              <el-input v-model=\"tableDataRow.newPassword\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"passwordVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"changePasswordDetermine\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 登陆日志 ---start -->\r\n        <el-dialog\r\n          title=\"查看用户\"\r\n          class=\"see\"\r\n          :visible.sync=\"loginVisible\"\r\n          width=\"1200px\"\r\n        >\r\n          <!-- 表格部分 -->\r\n          <el-table :data=\"loginData\" border style=\"width: 100%\">\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"createId\"\r\n              align=\"center\"\r\n              label=\"登陆者ID\"\r\n              width=\"80\"\r\n              min-width=\"150\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"createBy\"\r\n              align=\"center\"\r\n              label=\"登陆者 \"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"createTime\"\r\n              align=\"center\"\r\n              label=\"创建时间\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"remoteAddr\"\r\n              align=\"center\"\r\n              label=\"IP地址\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"address\"\r\n              align=\"center\"\r\n              label=\"地址信息\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"userAgent\"\r\n              align=\"center\"\r\n              label=\"用户代理\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"email\"\r\n              align=\"center\"\r\n              label=\"登陆方式\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"params\"\r\n              align=\"center\"\r\n              label=\"操作提交的数据\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              fixed=\"right\"\r\n              align=\"center\"\r\n              label=\"操作\"\r\n              min-width=\"100\"\r\n            >\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  @click=\"loginSeeClick(scope.row)\"\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  >查看</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <!-- 分页功能 -->\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"loginRow.current\"\r\n            :page-sizes=\"[10, 20, 30, 40, 50, 100]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pageData.total\"\r\n          >\r\n          </el-pagination>\r\n        </el-dialog>\r\n\r\n        <!-- 查看日志 ---start -->\r\n        <el-dialog\r\n          title=\"查看日志\"\r\n          class=\"see\"\r\n          :visible.sync=\"loginSeeVisible\"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :inline=\"true\"\r\n            :model=\"loginDataRow\"\r\n            class=\"demo-form-inline\"\r\n          >\r\n            <el-form-item label=\"登陆者ID\">\r\n              <el-input v-model=\"loginDataRow.createId\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"登陆者\">\r\n              <el-input v-model=\"loginDataRow.createBy\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"loginDataRow.createTime\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"IP地址\">\r\n              <el-input v-model=\"loginDataRow.remoteAddr\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"地址信息\">\r\n              <el-input v-model=\"loginDataRow.address\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户代理\">\r\n              <el-input v-model=\"loginDataRow.userAgent\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"登陆方式\">\r\n              <el-input v-model=\"loginDataRow.email\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"操作提交的数据\">\r\n              <el-input v-model=\"loginDataRow.params\" readonly></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-dialog>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apis from \"@/apis/apis\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [], // 表格内容\r\n      tableDataRow: {}, // 表格的某条内容\r\n      labelData: [], // 机构内容\r\n      filterText: \"\", // 模糊查询机构输入框\r\n      labelDataProps: {\r\n        label: \"name\",\r\n        children: \"children\",\r\n      },\r\n      labelPosition: \"right\", //lable对齐方式\r\n      labelWidth: \"80px\", //lable宽度\r\n      formSeeVisible: false, // 查看角色弹出框的布尔值\r\n      formModifyVisible: false, // 修改角色弹出框的布尔值\r\n      // 新增用户内容\r\n      formAddData: {\r\n        id: \"\",\r\n        username: \"\",\r\n        rganName: \"\",\r\n        updateTime: \"\",\r\n        updateTime: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        organId: \"\",\r\n        organName: \"\",\r\n        roleList: [],\r\n        roleIds: [],\r\n      },\r\n      formAddVisible: false, // 新增角色弹出框的布尔值\r\n      passwordVisible: false, // 修改密码弹出框的布尔值\r\n      // 用户管理查询参数配置\r\n      pageRow: {\r\n        current: 1, // 查询当前页数\r\n        size: 10, // 数据大小\r\n        organId: \"\", // 机构ID\r\n      },\r\n      // 登陆日志查询参数配置\r\n      loginRow: {\r\n        current: 1, // 查询当前页数\r\n        size: 10, // 数据大小\r\n        createId: \"\", // 登陆者ID\r\n      },\r\n      loginData: [], // 日志内容\r\n      loginVisible: false, // 日志内容弹出框的布尔值\r\n      pageData: {\r\n        total: \"\",\r\n      }, // 登陆日志分页数据\r\n      loginDataRow: {}, // 单行日志\r\n      loginSeeVisible: false, // 单行日志弹出框的布尔值\r\n    };\r\n  },\r\n  // 初始化表格参数\r\n  mounted() {\r\n    this.getUpmsOrganTree();\r\n    this.formGetClick();\r\n  },\r\n  computed: {\r\n    buttonList() {\r\n      return this.$store._modules.root.context.state.button.buttonList;\r\n    }\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取所有角色数据\r\n    async getUpmsRolePage() {\r\n      const res = await apis.adminApi.getUpmsRolePage();\r\n      console.log(res);\r\n      return res.data.data.records;\r\n    },\r\n    // 获取所有用户数据\r\n    async getUpmsUserPage() {\r\n      const res = await apis.adminApi.getUpmsUserPage(this.pageRow);\r\n      console.log(res);\r\n      const tableData = res.data.data.records;\r\n      console.log(tableData);\r\n      return tableData;\r\n    },\r\n    // 初始化表格数据\r\n    async formGetClick() {\r\n      // 多个异步函数的时候，先初始化所有异步函数用以平行加速\r\n      let RoleList = this.getUpmsRolePage();\r\n      let tableData = this.getUpmsUserPage();\r\n      RoleList = await RoleList;\r\n      tableData = await tableData;\r\n      console.log(RoleList);\r\n      // 判断用户数据中的roleIds[0]如果等于角色的id就把角色名称(roleName)赋给它。\r\n      tableData.forEach((item) => {\r\n        lazy: for (let i = 0; i < RoleList.length; i++) {\r\n          if (item.roleIds[0] == RoleList[i].id) {\r\n            item.roleName = RoleList[i].roleName;\r\n            break lazy; // 跳出循环\r\n          }\r\n        }\r\n      });\r\n      console.log(tableData);\r\n      this.tableData = tableData;\r\n    },\r\n    // 刷新表格\r\n    refresh() {\r\n      this.tableData = [];\r\n      this.formGetClick();\r\n    },\r\n    // 返回机构树形用户集合[列表请求]\r\n    async getUpmsOrganTree() {\r\n      const res = await apis.adminApi.getUpmsOrganTree();\r\n      console.log(res);\r\n      this.labelData = res.data.data;\r\n    },\r\n    // 模糊查询机构树形用户集合\r\n    filterNode(value, data) {\r\n      console.log(value, data);\r\n      if (!value) return true;\r\n      return data.name.indexOf(value) !== -1;\r\n    },\r\n    // 点击机构组织回调\r\n    labelDataClick(row, e) {\r\n      console.log(row);\r\n      if (e == \"add\") {\r\n        this.formAddData.organId = row.id; //将结构的id给新增的organId\r\n        this.formAddData.organName = row.name; //将结构的name给新增的organName\r\n      } else if (e == \"row\") {\r\n        this.tableDataRow.organId = row.id; //将结构的id给新增的organId\r\n        this.tableDataRow.organName = row.name; //将结构的name给新增的organName\r\n      } else {\r\n        this.pageRow.organId = row.id; //将结构的id给查询的organId\r\n        this.refresh();\r\n      }\r\n    },\r\n    // 点击查看某条用户\r\n    formSeeClick(row) {\r\n      console.log(row);\r\n      this.tableDataRow = row;\r\n      this.formSeeVisible = true;\r\n    },\r\n    // 点击编辑某条用户\r\n    async formModifyClick(row) {\r\n      this.tableDataRow = JSON.parse(JSON.stringify(row));\r\n      const roleList = await this.getUpmsRolePage();\r\n      console.log(roleList);\r\n      this.tableDataRow.roleList = roleList; // 绑定角色多选框数据\r\n      this.formModifyVisible = true;\r\n    },\r\n    // 点击编辑某条用户后确定\r\n    async formModifyDetermine() {\r\n      try {\r\n        await this.$refs.tableDataRow.validate();\r\n      } catch (err) {\r\n        return false;\r\n      }\r\n      const res = await apis.adminApi.putUpmsUser(this.tableDataRow);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.$message.success(\"编辑用户成功\");\r\n        this.formModifyVisible = false;\r\n        this.refresh();\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 点击删除某条用户\r\n    async formDeleteClick(row) {\r\n      console.log(row);\r\n      try {\r\n        const res = await this.$confirm(\r\n          \"此操作将永久删除此租户, 是否继续?\",\r\n          \"提示\",\r\n          {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\",\r\n          }\r\n        );\r\n        this.tableDataRow = row;\r\n        this.formDeleteDetermine();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    // 确定删除某条用户\r\n    async formDeleteDetermine(row) {\r\n      const res = await apis.adminApi.deleteUpmsUserId(this.tableDataRow.id);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.refresh();\r\n        this.$message.success(`删除用户${row.username}成功`);\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 点击新增用户按钮\r\n    async formAddClick() {\r\n      const roleList = await this.getUpmsRolePage();\r\n      console.log(roleList);\r\n      this.formAddData.roleList = roleList; // 绑定角色多选框数据\r\n      this.formAddVisible = true;\r\n    },\r\n    // 点击新增用户按钮后确定\r\n    async formAddDetermine() {\r\n      try {\r\n        await this.$refs.formAddData.validate();\r\n      } catch (err) {\r\n        return false;\r\n      }\r\n      this.formAddVisible = false;\r\n      const res = await apis.adminApi.postUpmsUser(this.formAddData);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.$message.success(\"新增用户成功\");\r\n        this.refresh();\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 修改某个用户的密码\r\n    changePassword(row) {\r\n      this.tableDataRow = row;\r\n      this.passwordVisible = true;\r\n    },\r\n    // 修改密码确定\r\n    async changePasswordDetermine() {\r\n      this.tableDataRow.password = this.tableDataRow.newPassword; // 将输入的新密码覆盖原密码\r\n      const res = await apis.adminApi.putUpmsUserPassword(this.tableDataRow);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.$message.success(\"修改密码成功\");\r\n        this.refresh();\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 查询登陆日志\r\n    async getUpmsLogloginPage() {\r\n      const res = await apis.systemApi.getUpmsLogloginPage(this.loginRow);\r\n      console.log(res);\r\n      this.pageData = res.data.data; // 登陆日志分页数据\r\n      this.loginData = this.pageData.records; // 登陆日志数据\r\n      this.loginVisible = true;\r\n    },\r\n    // 登陆日志点击\r\n    loginClick(row) {\r\n      this.loginRow.createId = row.tenantId;\r\n      this.getUpmsLogloginPage();\r\n    },\r\n    // 日志分页 size 变更\r\n    handleSizeChange(val) {\r\n      console.log(val);\r\n      this.loginRow.size = val;\r\n      this.getUpmsLogloginPage();\r\n    },\r\n    // 日志分页 curren 变更\r\n    handleCurrentChange(val) {\r\n      console.log(val);\r\n      this.loginRow.current = val;\r\n      this.getUpmsLogloginPage();\r\n    },\r\n    // 登陆日志查看\r\n    loginSeeClick(row) {\r\n      console.log(row);\r\n      this.loginDataRow = row;\r\n      this.loginSeeVisible = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>"]}]}