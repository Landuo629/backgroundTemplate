{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\views\\systemManagement\\userManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\views\\systemManagement\\userManagement.vue","mtime":1608540890577},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBpcyBmcm9tICJAL2FwaXMvYXBpcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYmxlRGF0YTogW10sIC8vIOihqOagvOWGheWuuQ0KICAgICAgdGFibGVEYXRhUm93OiB7fSwgLy8g6KGo5qC855qE5p+Q5p2h5YaF5a65DQogICAgICBsYWJlbERhdGE6IFtdLCAvLyDmnLrmnoTlhoXlrrkNCiAgICAgIGZpbHRlclRleHQ6ICIiLCAvLyDmqKHns4rmn6Xor6LmnLrmnoTovpPlhaXmoYYNCiAgICAgIGxhYmVsRGF0YVByb3BzOiB7DQogICAgICAgIGxhYmVsOiAibmFtZSIsDQogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLA0KICAgICAgfSwNCiAgICAgIGxhYmVsUG9zaXRpb246ICJyaWdodCIsIC8vbGFibGXlr7npvZDmlrnlvI8NCiAgICAgIGxhYmVsV2lkdGg6ICI4MHB4IiwgLy9sYWJsZeWuveW6pg0KICAgICAgZm9ybVNlZVZpc2libGU6IGZhbHNlLCAvLyDmn6XnnIvop5LoibLlvLnlh7rmoYbnmoTluIPlsJTlgLwNCiAgICAgIGZvcm1Nb2RpZnlWaXNpYmxlOiBmYWxzZSwgLy8g5L+u5pS56KeS6Imy5by55Ye65qGG55qE5biD5bCU5YC8DQogICAgICAvLyDmlrDlop7nlKjmiLflhoXlrrkNCiAgICAgIGZvcm1BZGREYXRhOiB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgICByZ2FuTmFtZTogIiIsDQogICAgICAgIHVwZGF0ZVRpbWU6ICIiLA0KICAgICAgICB1cGRhdGVUaW1lOiAiIiwNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwaG9uZTogIiIsDQogICAgICAgIG9yZ2FuSWQ6ICIiLA0KICAgICAgICBvcmdhbk5hbWU6ICIiLA0KICAgICAgICByb2xlTGlzdDogW10sDQogICAgICAgIHJvbGVJZHM6IFtdLA0KICAgICAgfSwNCiAgICAgIGZvcm1BZGRWaXNpYmxlOiBmYWxzZSwgLy8g5paw5aKe6KeS6Imy5by55Ye65qGG55qE5biD5bCU5YC8DQogICAgICBwYXNzd29yZFZpc2libGU6IGZhbHNlLCAvLyDkv67mlLnlr4bnoIHlvLnlh7rmoYbnmoTluIPlsJTlgLwNCiAgICAgIC8vIOeUqOaIt+euoeeQhuafpeivouWPguaVsOmFjee9rg0KICAgICAgcGFnZVJvdzogew0KICAgICAgICBjdXJyZW50OiAxLCAvLyDmn6Xor6LlvZPliY3pobXmlbANCiAgICAgICAgc2l6ZTogMTAsIC8vIOaVsOaNruWkp+Wwjw0KICAgICAgICBvcmdhbklkOiAiIiwgLy8g5py65p6ESUQNCiAgICAgIH0sDQogICAgICAvLyDnmbvpmYbml6Xlv5fmn6Xor6Llj4LmlbDphY3nva4NCiAgICAgIGxvZ2luUm93OiB7DQogICAgICAgIGN1cnJlbnQ6IDEsIC8vIOafpeivouW9k+WJjemhteaVsA0KICAgICAgICBzaXplOiAxMCwgLy8g5pWw5o2u5aSn5bCPDQogICAgICAgIGNyZWF0ZUlkOiAiIiwgLy8g55m76ZmG6ICFSUQNCiAgICAgIH0sDQogICAgICBsb2dpbkRhdGE6IFtdLCAvLyDml6Xlv5flhoXlrrkNCiAgICAgIGxvZ2luVmlzaWJsZTogZmFsc2UsIC8vIOaXpeW/l+WGheWuueW8ueWHuuahhueahOW4g+WwlOWAvA0KICAgICAgcGFnZURhdGE6IHsNCiAgICAgICAgdG90YWw6ICIiLA0KICAgICAgfSwgLy8g55m76ZmG5pel5b+X5YiG6aG15pWw5o2uDQogICAgICBsb2dpbkRhdGFSb3c6IHt9LCAvLyDljZXooYzml6Xlv5cNCiAgICAgIGxvZ2luU2VlVmlzaWJsZTogZmFsc2UsIC8vIOWNleihjOaXpeW/l+W8ueWHuuahhueahOW4g+WwlOWAvA0KICAgIH07DQogIH0sDQogIC8vIOWIneWni+WMluihqOagvOWPguaVsA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0VXBtc09yZ2FuVHJlZSgpOw0KICAgIHRoaXMuZm9ybUdldENsaWNrKCk7DQogIH0sDQogIHdhdGNoOiB7DQogICAgZmlsdGVyVGV4dCh2YWwpIHsNCiAgICAgIHRoaXMuJHJlZnMudHJlZS5maWx0ZXIodmFsKTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g6I635Y+W5omA5pyJ6KeS6Imy5pWw5o2uDQogICAgYXN5bmMgZ2V0VXBtc1JvbGVQYWdlKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpcy5hZG1pbkFwaS5nZXRVcG1zUm9sZVBhZ2UoKTsNCiAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICByZXR1cm4gcmVzLmRhdGEuZGF0YS5yZWNvcmRzOw0KICAgIH0sDQogICAgLy8g6I635Y+W5omA5pyJ55So5oi35pWw5o2uDQogICAgYXN5bmMgZ2V0VXBtc1VzZXJQYWdlKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpcy5hZG1pbkFwaS5nZXRVcG1zVXNlclBhZ2UodGhpcy5wYWdlUm93KTsNCiAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICBjb25zdCB0YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhLnJlY29yZHM7DQogICAgICBjb25zb2xlLmxvZyh0YWJsZURhdGEpOw0KICAgICAgcmV0dXJuIHRhYmxlRGF0YTsNCiAgICB9LA0KICAgIC8vIOWIneWni+WMluihqOagvOaVsOaNrg0KICAgIGFzeW5jIGZvcm1HZXRDbGljaygpIHsNCiAgICAgIC8vIOWkmuS4quW8guatpeWHveaVsOeahOaXtuWAme+8jOWFiOWIneWni+WMluaJgOacieW8guatpeWHveaVsOeUqOS7peW5s+ihjOWKoOmAnw0KICAgICAgbGV0IFJvbGVMaXN0ID0gdGhpcy5nZXRVcG1zUm9sZVBhZ2UoKTsNCiAgICAgIGxldCB0YWJsZURhdGEgPSB0aGlzLmdldFVwbXNVc2VyUGFnZSgpOw0KICAgICAgUm9sZUxpc3QgPSBhd2FpdCBSb2xlTGlzdDsNCiAgICAgIHRhYmxlRGF0YSA9IGF3YWl0IHRhYmxlRGF0YTsNCiAgICAgIGNvbnNvbGUubG9nKFJvbGVMaXN0KTsNCiAgICAgIC8vIOWIpOaWreeUqOaIt+aVsOaNruS4reeahHJvbGVJZHNbMF3lpoLmnpznrYnkuo7op5LoibLnmoRpZOWwseaKiuinkuiJsuWQjeensChyb2xlTmFtZSnotYvnu5nlroPjgIINCiAgICAgIHRhYmxlRGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGxhenk6IGZvciAobGV0IGkgPSAwOyBpIDwgUm9sZUxpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAoaXRlbS5yb2xlSWRzWzBdID09IFJvbGVMaXN0W2ldLmlkKSB7DQogICAgICAgICAgICBpdGVtLnJvbGVOYW1lID0gUm9sZUxpc3RbaV0ucm9sZU5hbWU7DQogICAgICAgICAgICBicmVhayBsYXp5OyAvLyDot7Plh7rlvqrnjq8NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgY29uc29sZS5sb2codGFibGVEYXRhKTsNCiAgICAgIHRoaXMudGFibGVEYXRhID0gdGFibGVEYXRhOw0KICAgIH0sDQogICAgLy8g5Yi35paw6KGo5qC8DQogICAgcmVmcmVzaCgpIHsNCiAgICAgIHRoaXMudGFibGVEYXRhID0gW107DQogICAgICB0aGlzLmZvcm1HZXRDbGljaygpOw0KICAgIH0sDQogICAgLy8g6L+U5Zue5py65p6E5qCR5b2i55So5oi36ZuG5ZCIW+WIl+ihqOivt+axgl0NCiAgICBhc3luYyBnZXRVcG1zT3JnYW5UcmVlKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpcy5hZG1pbkFwaS5nZXRVcG1zT3JnYW5UcmVlKCk7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgdGhpcy5sYWJlbERhdGEgPSByZXMuZGF0YS5kYXRhOw0KICAgIH0sDQogICAgLy8g5qih57OK5p+l6K+i5py65p6E5qCR5b2i55So5oi36ZuG5ZCIDQogICAgZmlsdGVyTm9kZSh2YWx1ZSwgZGF0YSkgew0KICAgICAgY29uc29sZS5sb2codmFsdWUsIGRhdGEpOw0KICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7DQogICAgICByZXR1cm4gZGF0YS5uYW1lLmluZGV4T2YodmFsdWUpICE9PSAtMTsNCiAgICB9LA0KICAgIC8vIOeCueWHu+acuuaehOe7hOe7h+Wbnuiwgw0KICAgIGxhYmVsRGF0YUNsaWNrKHJvdywgZSkgew0KICAgICAgY29uc29sZS5sb2cocm93KTsNCiAgICAgIGlmIChlID09ICJhZGQiKSB7DQogICAgICAgIHRoaXMuZm9ybUFkZERhdGEub3JnYW5JZCA9IHJvdy5pZDsgLy/lsIbnu5PmnoTnmoRpZOe7meaWsOWinueahG9yZ2FuSWQNCiAgICAgICAgdGhpcy5mb3JtQWRkRGF0YS5vcmdhbk5hbWUgPSByb3cubmFtZTsgLy/lsIbnu5PmnoTnmoRuYW1l57uZ5paw5aKe55qEb3JnYW5OYW1lDQogICAgICB9IGVsc2UgaWYgKGUgPT0gInJvdyIpIHsNCiAgICAgICAgdGhpcy50YWJsZURhdGFSb3cub3JnYW5JZCA9IHJvdy5pZDsgLy/lsIbnu5PmnoTnmoRpZOe7meaWsOWinueahG9yZ2FuSWQNCiAgICAgICAgdGhpcy50YWJsZURhdGFSb3cub3JnYW5OYW1lID0gcm93Lm5hbWU7IC8v5bCG57uT5p6E55qEbmFtZee7meaWsOWinueahG9yZ2FuTmFtZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wYWdlUm93Lm9yZ2FuSWQgPSByb3cuaWQ7IC8v5bCG57uT5p6E55qEaWTnu5nmn6Xor6LnmoRvcmdhbklkDQogICAgICAgIHRoaXMucmVmcmVzaCgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g54K55Ye75p+l55yL5p+Q5p2h55So5oi3DQogICAgZm9ybVNlZUNsaWNrKHJvdykgew0KICAgICAgY29uc29sZS5sb2cocm93KTsNCiAgICAgIHRoaXMudGFibGVEYXRhUm93ID0gcm93Ow0KICAgICAgdGhpcy5mb3JtU2VlVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICAvLyDngrnlh7vnvJbovpHmn5DmnaHnlKjmiLcNCiAgICBhc3luYyBmb3JtTW9kaWZ5Q2xpY2socm93KSB7DQogICAgICB0aGlzLnRhYmxlRGF0YVJvdyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSk7DQogICAgICBjb25zdCByb2xlTGlzdCA9IGF3YWl0IHRoaXMuZ2V0VXBtc1JvbGVQYWdlKCk7DQogICAgICBjb25zb2xlLmxvZyhyb2xlTGlzdCk7DQogICAgICB0aGlzLnRhYmxlRGF0YVJvdy5yb2xlTGlzdCA9IHJvbGVMaXN0OyAvLyDnu5Hlrprop5LoibLlpJrpgInmoYbmlbDmja4NCiAgICAgIHRoaXMuZm9ybU1vZGlmeVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g54K55Ye757yW6L6R5p+Q5p2h55So5oi35ZCO56Gu5a6aDQogICAgYXN5bmMgZm9ybU1vZGlmeURldGVybWluZSgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMudGFibGVEYXRhUm93LnZhbGlkYXRlKCk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpcy5hZG1pbkFwaS5wdXRVcG1zVXNlcih0aGlzLnRhYmxlRGF0YVJvdyk7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIue8lui+keeUqOaIt+aIkOWKnyIpOw0KICAgICAgICB0aGlzLmZvcm1Nb2RpZnlWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIHRoaXMucmVmcmVzaCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g54K55Ye75Yig6Zmk5p+Q5p2h55So5oi3DQogICAgYXN5bmMgZm9ybURlbGV0ZUNsaWNrKHJvdykgew0KICAgICAgY29uc29sZS5sb2cocm93KTsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oDQogICAgICAgICAgIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOatpOenn+aItywg5piv5ZCm57un57utPyIsDQogICAgICAgICAgIuaPkOekuiIsDQogICAgICAgICAgew0KICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLA0KICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgICB0aGlzLnRhYmxlRGF0YVJvdyA9IHJvdzsNCiAgICAgICAgdGhpcy5mb3JtRGVsZXRlRGV0ZXJtaW5lKCk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOehruWumuWIoOmZpOafkOadoeeUqOaItw0KICAgIGFzeW5jIGZvcm1EZWxldGVEZXRlcm1pbmUocm93KSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlzLmFkbWluQXBpLmRlbGV0ZVVwbXNVc2VySWQodGhpcy50YWJsZURhdGFSb3cuaWQpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgdGhpcy5yZWZyZXNoKCk7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5Yig6Zmk55So5oi3JHtyb3cudXNlcm5hbWV95oiQ5YqfYCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDngrnlh7vmlrDlop7nlKjmiLfmjInpkq4NCiAgICBhc3luYyBmb3JtQWRkQ2xpY2soKSB7DQogICAgICBjb25zdCByb2xlTGlzdCA9IGF3YWl0IHRoaXMuZ2V0VXBtc1JvbGVQYWdlKCk7DQogICAgICBjb25zb2xlLmxvZyhyb2xlTGlzdCk7DQogICAgICB0aGlzLmZvcm1BZGREYXRhLnJvbGVMaXN0ID0gcm9sZUxpc3Q7IC8vIOe7keWumuinkuiJsuWkmumAieahhuaVsOaNrg0KICAgICAgdGhpcy5mb3JtQWRkVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICAvLyDngrnlh7vmlrDlop7nlKjmiLfmjInpkq7lkI7noa7lrpoNCiAgICBhc3luYyBmb3JtQWRkRGV0ZXJtaW5lKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgdGhpcy4kcmVmcy5mb3JtQWRkRGF0YS52YWxpZGF0ZSgpOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9ybUFkZFZpc2libGUgPSBmYWxzZTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaXMuYWRtaW5BcGkucG9zdFVwbXNVc2VyKHRoaXMuZm9ybUFkZERhdGEpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmlrDlop7nlKjmiLfmiJDlip8iKTsNCiAgICAgICAgdGhpcy5yZWZyZXNoKCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDkv67mlLnmn5DkuKrnlKjmiLfnmoTlr4bnoIENCiAgICBjaGFuZ2VQYXNzd29yZChyb3cpIHsNCiAgICAgIHRoaXMudGFibGVEYXRhUm93ID0gcm93Ow0KICAgICAgdGhpcy5wYXNzd29yZFZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g5L+u5pS55a+G56CB56Gu5a6aDQogICAgYXN5bmMgY2hhbmdlUGFzc3dvcmREZXRlcm1pbmUoKSB7DQogICAgICB0aGlzLnRhYmxlRGF0YVJvdy5wYXNzd29yZCA9IHRoaXMudGFibGVEYXRhUm93Lm5ld1Bhc3N3b3JkOyAvLyDlsIbovpPlhaXnmoTmlrDlr4bnoIHopobnm5bljp/lr4bnoIENCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaXMuYWRtaW5BcGkucHV0VXBtc1VzZXJQYXNzd29yZCh0aGlzLnRhYmxlRGF0YVJvdyk7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/ruaUueWvhueggeaIkOWKnyIpOw0KICAgICAgICB0aGlzLnJlZnJlc2goKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOafpeivoueZu+mZhuaXpeW/lw0KICAgIGFzeW5jIGdldFVwbXNMb2dsb2dpblBhZ2UoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlzLnN5c3RlbUFwaS5nZXRVcG1zTG9nbG9naW5QYWdlKHRoaXMubG9naW5Sb3cpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIHRoaXMucGFnZURhdGEgPSByZXMuZGF0YS5kYXRhOyAvLyDnmbvpmYbml6Xlv5fliIbpobXmlbDmja4NCiAgICAgIHRoaXMubG9naW5EYXRhID0gdGhpcy5wYWdlRGF0YS5yZWNvcmRzOyAvLyDnmbvpmYbml6Xlv5fmlbDmja4NCiAgICAgIHRoaXMubG9naW5WaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8vIOeZu+mZhuaXpeW/l+eCueWHuw0KICAgIGxvZ2luQ2xpY2socm93KSB7DQogICAgICB0aGlzLmxvZ2luUm93LmNyZWF0ZUlkID0gcm93LnRlbmFudElkOw0KICAgICAgdGhpcy5nZXRVcG1zTG9nbG9naW5QYWdlKCk7DQogICAgfSwNCiAgICAvLyDml6Xlv5fliIbpobUgc2l6ZSDlj5jmm7QNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgY29uc29sZS5sb2codmFsKTsNCiAgICAgIHRoaXMubG9naW5Sb3cuc2l6ZSA9IHZhbDsNCiAgICAgIHRoaXMuZ2V0VXBtc0xvZ2xvZ2luUGFnZSgpOw0KICAgIH0sDQogICAgLy8g5pel5b+X5YiG6aG1IGN1cnJlbiDlj5jmm7QNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgY29uc29sZS5sb2codmFsKTsNCiAgICAgIHRoaXMubG9naW5Sb3cuY3VycmVudCA9IHZhbDsNCiAgICAgIHRoaXMuZ2V0VXBtc0xvZ2xvZ2luUGFnZSgpOw0KICAgIH0sDQogICAgLy8g55m76ZmG5pel5b+X5p+l55yLDQogICAgbG9naW5TZWVDbGljayhyb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvdyk7DQogICAgICB0aGlzLmxvZ2luRGF0YVJvdyA9IHJvdzsNCiAgICAgIHRoaXMubG9naW5TZWVWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["userManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userManagement.vue","sourceRoot":"src/views/systemManagement","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <el-container>\r\n      <!-- 侧边栏容器 -->\r\n      <el-aside width=\"15%\">\r\n        <el-input placeholder=\"输入关键字进行过滤\" v-model=\"filterText\">\r\n        </el-input>\r\n        <el-tree\r\n          :data=\"labelData\"\r\n          :props=\"labelDataProps\"\r\n          @node-click=\"labelDataClick\"\r\n          ref=\"tree\"\r\n          :filter-node-method=\"filterNode\"\r\n        ></el-tree>\r\n      </el-aside>\r\n      <!-- 主要区域容器 -->\r\n      <el-main>\r\n        <!-- 操作区----start -->\r\n        <el-row class=\"mgb15\">\r\n          <el-col :span=\"23\">\r\n            <el-button\r\n              size=\"small\"\r\n              icon=\"el-icon-plus\"\r\n              type=\"primary\"\r\n              @click=\"formAddClick\"\r\n              >新增</el-button\r\n            >\r\n          </el-col>\r\n          <el-col :span=\"1\">\r\n            <!-- 刷新按钮 -->\r\n            <el-tooltip\r\n              class=\"item\"\r\n              effect=\"dark\"\r\n              content=\"刷新\"\r\n              placement=\"top\"\r\n            >\r\n              <el-button\r\n                icon=\"el-icon-refresh\"\r\n                circle\r\n                size=\"small\"\r\n                @click=\"refresh\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </el-col>\r\n        </el-row>\r\n        <!-- 表格部分 -->\r\n        <el-table :data=\"tableData\" border stripe style=\"width: 100%\">\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            type=\"index\"\r\n            align=\"center\"\r\n            label=\"序号\"\r\n            width=\"60\"\r\n            min-width=\"150\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"username\"\r\n            align=\"center\"\r\n            label=\"账号\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"organName\"\r\n            align=\"center\"\r\n            label=\"所属机构\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"roleName\"\r\n            align=\"center\"\r\n            label=\"角色\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"lockFlag\"\r\n            align=\"center\"\r\n            label=\"允许登陆\"\r\n            min-width=\"300\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <span>{{\r\n                parseInt(scope.row.lockFlag, 10) ? \"锁定\" : \"正常\"\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"updateTime\"\r\n            align=\"center\"\r\n            label=\"创建时间\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"email\"\r\n            align=\"center\"\r\n            label=\"邮箱\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n            prop=\"phone\"\r\n            align=\"center\"\r\n            label=\"手机号\"\r\n            min-width=\"120\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            fixed=\"right\"\r\n            width=\"200\"\r\n            align=\"center\"\r\n            label=\"操作\"\r\n            min-width=\"150\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                @click=\"formSeeClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-view\"\r\n                >查看</el-button\r\n              >\r\n              <el-button\r\n                @click=\"formModifyClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-edit\"\r\n                >编辑</el-button\r\n              >\r\n              <el-button\r\n                @click=\"formDeleteClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-delete\"\r\n                >删 除</el-button\r\n              >\r\n              <el-button\r\n                @click=\"changePassword(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                >修改密码</el-button\r\n              >\r\n              <el-button\r\n                @click=\"loginClick(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-info\"\r\n                >登陆日志</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页功能 -->\r\n        <el-pagination\r\n          @size-change=\"\r\n            pageRow.size = val;\r\n            getUpmsLogloginPage();\r\n          \"\r\n          @current-change=\"\r\n            loginRow.current = val;\r\n            getUpmsLogloginPage();\r\n          \"\r\n          :current-page=\"pageRow.current\"\r\n          :page-sizes=\"[10, 20, 30, 40, 50, 100]\"\r\n          :page-size=\"10\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"tableData.length\"\r\n        >\r\n        </el-pagination>\r\n\r\n        <!-- 查看用户 ---start -->\r\n        <el-dialog\r\n          title=\"查看用户\"\r\n          class=\"see\"\r\n          :visible.sync=\"formSeeVisible\"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :inline=\"true\"\r\n            :model=\"tableDataRow\"\r\n            class=\"demo-form-inline\"\r\n          >\r\n            <el-form-item label=\"id\">\r\n              <el-input v-model=\"tableDataRow.id\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"账号\">\r\n              <el-input v-model=\"tableDataRow.username\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属机构\">\r\n              <el-input v-model=\"tableDataRow.organName\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色\">\r\n              <el-input v-model=\"tableDataRow.roleName\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"允许登陆\">\r\n              <el-input\r\n                :value=\"parseInt(tableDataRow.lockFlag, 10) ? '锁定' : '正常'\"\r\n                readonly\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"tableDataRow.updateTime\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"tableDataRow.email\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"手机号\">\r\n              <el-input v-model=\"tableDataRow.phone\" readonly></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-dialog>\r\n\r\n        <!-- 编辑用户---start -->\r\n        <el-dialog\r\n          title=\"编辑用户\"\r\n          :visible.sync=\"formModifyVisible\"\r\n          @closed=\"\r\n            tableDataRow = {};\r\n            $refs.tableDataRow.resetFields();\r\n          \"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :model=\"tableDataRow\"\r\n            class=\"demo-form-inline lazy-form\"\r\n            ref=\"tableDataRow\"\r\n          >\r\n            <el-form-item label=\"id\">\r\n              <el-input v-model=\"tableDataRow.id\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"账号\">\r\n              <el-input v-model=\"tableDataRow.username\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属机构\">\r\n              <el-select\r\n                v-model=\"tableDataRow.organName\"\r\n                value-key=\"id\"\r\n                placeholder=\"请选择\"\r\n              >\r\n                <!-- el-option 属性没有的话会让tree没有数据，所以设置为零 -->\r\n                <el-option value=\"\" style=\"height: 0px\"> </el-option>\r\n                <el-tree\r\n                  :data=\"labelData\"\r\n                  :props=\"labelDataProps\"\r\n                  @node-click=\"labelDataClick($event, 'row')\"\r\n                ></el-tree>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"角色\"\r\n              prop=\"roleIds\"\r\n              :rules=\"{\r\n                type: 'array',\r\n                required: true,\r\n                message: '请至少选择一个角色',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-checkbox-group v-model=\"tableDataRow.roleIds\">\r\n                <el-checkbox\r\n                  v-for=\"(item, index) in tableDataRow.roleList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.id\"\r\n                  >{{ item.roleName }}</el-checkbox\r\n                >\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"允许登陆\"\r\n              prop=\"lockFlag\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '请选择类型',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-radio v-model=\"tableDataRow.lockFlag\" label=\"0\"\r\n                >正常</el-radio\r\n              >\r\n              <el-radio v-model=\"tableDataRow.lockFlag\" label=\"9\"\r\n                >锁定</el-radio\r\n              >\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"tableDataRow.updateTime\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"tableDataRow.email\" disabled></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"手机号\">\r\n              <el-input v-model=\"tableDataRow.phone\" disabled></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"formModifyVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"formModifyDetermine\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 新增用户---start -->\r\n        <el-dialog\r\n          title=\"新增用户\"\r\n          :visible.sync=\"formAddVisible\"\r\n          @closed=\"\r\n            formAddData = { organName: '' };\r\n            $refs.formAddData.resetFields();\r\n          \"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :inline=\"true\"\r\n            :model=\"formAddData\"\r\n            class=\"demo-form-inline lazy-form\"\r\n            ref=\"formAddData\"\r\n          >\r\n            <el-form-item\r\n              label=\"账号\"\r\n              prop=\"username\"\r\n              :rules=\"{ required: true, message: '账号不能为空' }\"\r\n            >\r\n              <el-input v-model=\"formAddData.username\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"密码\"\r\n              prop=\"password\"\r\n              :rules=\"{ required: true, message: '密码不能为空' }\"\r\n            >\r\n              <el-input\r\n                show-password\r\n                v-model=\"formAddData.password\"\r\n                clearable\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"所属机构\"\r\n              prop=\"organName\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '请选择所属机构',\r\n              }\"\r\n            >\r\n              <el-select\r\n                v-model=\"formAddData.organName\"\r\n                value-key=\"id\"\r\n                placeholder=\"请选择\"\r\n                clearable\r\n              >\r\n                <!-- el-option 属性没有的话会让tree没有数据，所以设置为零 -->\r\n                <el-option value=\"\" style=\"height: 0px\"> </el-option>\r\n                <el-tree\r\n                  :data=\"labelData\"\r\n                  :props=\"labelDataProps\"\r\n                  @node-click=\"labelDataClick($event, 'add')\"\r\n                ></el-tree>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"角色\"\r\n              prop=\"roleIds\"\r\n              :rules=\"{\r\n                type: 'array',\r\n                required: true,\r\n                message: '请至少选择一个角色',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-checkbox-group v-model=\"formAddData.roleIds\">\r\n                <el-checkbox\r\n                  v-for=\"(item, index) in formAddData.roleList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.id\"\r\n                  >{{ item.roleName }}</el-checkbox\r\n                >\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"允许登陆\"\r\n              prop=\"lockFlag\"\r\n              :rules=\"{\r\n                required: true,\r\n                message: '请选择类型',\r\n                trigger: 'change',\r\n              }\"\r\n            >\r\n              <el-radio v-model=\"formAddData.lockFlag\" label=\"0\">正常</el-radio>\r\n              <el-radio v-model=\"formAddData.lockFlag\" label=\"9\">锁定</el-radio>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"邮箱\"\r\n              prop=\"email\"\r\n              :rules=\"[\r\n                { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                {\r\n                  type: 'email',\r\n                  message: '请输入正确的邮箱地址',\r\n                  trigger: ['blur', 'change'],\r\n                },\r\n              ]\"\r\n            >\r\n              <el-input v-model=\"formAddData.email\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"手机号\"\r\n              prop=\"phone\"\r\n              :rules=\"[\r\n                { required: true, message: '请输入手机号' },\r\n                { min: 11, max: 11, message: '长度在11个字符' },\r\n              ]\"\r\n            >\r\n              <el-input v-model=\"formAddData.phone\" clearable></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"formAddVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"formAddDetermine\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 修改密码 ---start -->\r\n        <el-dialog\r\n          title=\"修改密码\"\r\n          :visible.sync=\"passwordVisible\"\r\n          width=\"700px\"\r\n          @closed=\"tableDataRow = {}\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :model=\"tableDataRow\"\r\n            class=\"demo-form-inline lazy-form\"\r\n          >\r\n            <el-form-item label=\"新密码\">\r\n              <el-input v-model=\"tableDataRow.newPassword\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"passwordVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"changePasswordDetermine\"\r\n              >确 定</el-button\r\n            >\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 登陆日志 ---start -->\r\n        <el-dialog\r\n          title=\"查看用户\"\r\n          class=\"see\"\r\n          :visible.sync=\"loginVisible\"\r\n          width=\"1200px\"\r\n        >\r\n          <!-- 表格部分 -->\r\n          <el-table :data=\"loginData\" border style=\"width: 100%\">\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"createId\"\r\n              align=\"center\"\r\n              label=\"登陆者ID\"\r\n              width=\"80\"\r\n              min-width=\"150\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"createBy\"\r\n              align=\"center\"\r\n              label=\"登陆者 \"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"createTime\"\r\n              align=\"center\"\r\n              label=\"创建时间\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"remoteAddr\"\r\n              align=\"center\"\r\n              label=\"IP地址\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"address\"\r\n              align=\"center\"\r\n              label=\"地址信息\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"userAgent\"\r\n              align=\"center\"\r\n              label=\"用户代理\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"email\"\r\n              align=\"center\"\r\n              label=\"登陆方式\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              prop=\"params\"\r\n              align=\"center\"\r\n              label=\"操作提交的数据\"\r\n              min-width=\"120\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"$store.state.permission.tooltip\"\r\n              fixed=\"right\"\r\n              align=\"center\"\r\n              label=\"操作\"\r\n              min-width=\"100\"\r\n            >\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  @click=\"loginSeeClick(scope.row)\"\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  >查看</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <!-- 分页功能 -->\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"loginRow.current\"\r\n            :page-sizes=\"[10, 20, 30, 40, 50, 100]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pageData.total\"\r\n          >\r\n          </el-pagination>\r\n        </el-dialog>\r\n\r\n        <!-- 查看日志 ---start -->\r\n        <el-dialog\r\n          title=\"查看日志\"\r\n          class=\"see\"\r\n          :visible.sync=\"loginSeeVisible\"\r\n          width=\"700px\"\r\n        >\r\n          <el-form\r\n            :label-position=\"labelPosition\"\r\n            :label-width=\"labelWidth\"\r\n            :inline=\"true\"\r\n            :model=\"loginDataRow\"\r\n            class=\"demo-form-inline\"\r\n          >\r\n            <el-form-item label=\"登陆者ID\">\r\n              <el-input v-model=\"loginDataRow.createId\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"登陆者\">\r\n              <el-input v-model=\"loginDataRow.createBy\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"创建时间\">\r\n              <el-input v-model=\"loginDataRow.createTime\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"IP地址\">\r\n              <el-input v-model=\"loginDataRow.remoteAddr\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"地址信息\">\r\n              <el-input v-model=\"loginDataRow.address\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户代理\">\r\n              <el-input v-model=\"loginDataRow.userAgent\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"登陆方式\">\r\n              <el-input v-model=\"loginDataRow.email\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"操作提交的数据\">\r\n              <el-input v-model=\"loginDataRow.params\" readonly></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-dialog>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apis from \"@/apis/apis\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [], // 表格内容\r\n      tableDataRow: {}, // 表格的某条内容\r\n      labelData: [], // 机构内容\r\n      filterText: \"\", // 模糊查询机构输入框\r\n      labelDataProps: {\r\n        label: \"name\",\r\n        children: \"children\",\r\n      },\r\n      labelPosition: \"right\", //lable对齐方式\r\n      labelWidth: \"80px\", //lable宽度\r\n      formSeeVisible: false, // 查看角色弹出框的布尔值\r\n      formModifyVisible: false, // 修改角色弹出框的布尔值\r\n      // 新增用户内容\r\n      formAddData: {\r\n        id: \"\",\r\n        username: \"\",\r\n        rganName: \"\",\r\n        updateTime: \"\",\r\n        updateTime: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        organId: \"\",\r\n        organName: \"\",\r\n        roleList: [],\r\n        roleIds: [],\r\n      },\r\n      formAddVisible: false, // 新增角色弹出框的布尔值\r\n      passwordVisible: false, // 修改密码弹出框的布尔值\r\n      // 用户管理查询参数配置\r\n      pageRow: {\r\n        current: 1, // 查询当前页数\r\n        size: 10, // 数据大小\r\n        organId: \"\", // 机构ID\r\n      },\r\n      // 登陆日志查询参数配置\r\n      loginRow: {\r\n        current: 1, // 查询当前页数\r\n        size: 10, // 数据大小\r\n        createId: \"\", // 登陆者ID\r\n      },\r\n      loginData: [], // 日志内容\r\n      loginVisible: false, // 日志内容弹出框的布尔值\r\n      pageData: {\r\n        total: \"\",\r\n      }, // 登陆日志分页数据\r\n      loginDataRow: {}, // 单行日志\r\n      loginSeeVisible: false, // 单行日志弹出框的布尔值\r\n    };\r\n  },\r\n  // 初始化表格参数\r\n  mounted() {\r\n    this.getUpmsOrganTree();\r\n    this.formGetClick();\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n  },\r\n  methods: {\r\n    // 获取所有角色数据\r\n    async getUpmsRolePage() {\r\n      const res = await apis.adminApi.getUpmsRolePage();\r\n      console.log(res);\r\n      return res.data.data.records;\r\n    },\r\n    // 获取所有用户数据\r\n    async getUpmsUserPage() {\r\n      const res = await apis.adminApi.getUpmsUserPage(this.pageRow);\r\n      console.log(res);\r\n      const tableData = res.data.data.records;\r\n      console.log(tableData);\r\n      return tableData;\r\n    },\r\n    // 初始化表格数据\r\n    async formGetClick() {\r\n      // 多个异步函数的时候，先初始化所有异步函数用以平行加速\r\n      let RoleList = this.getUpmsRolePage();\r\n      let tableData = this.getUpmsUserPage();\r\n      RoleList = await RoleList;\r\n      tableData = await tableData;\r\n      console.log(RoleList);\r\n      // 判断用户数据中的roleIds[0]如果等于角色的id就把角色名称(roleName)赋给它。\r\n      tableData.forEach((item) => {\r\n        lazy: for (let i = 0; i < RoleList.length; i++) {\r\n          if (item.roleIds[0] == RoleList[i].id) {\r\n            item.roleName = RoleList[i].roleName;\r\n            break lazy; // 跳出循环\r\n          }\r\n        }\r\n      });\r\n      console.log(tableData);\r\n      this.tableData = tableData;\r\n    },\r\n    // 刷新表格\r\n    refresh() {\r\n      this.tableData = [];\r\n      this.formGetClick();\r\n    },\r\n    // 返回机构树形用户集合[列表请求]\r\n    async getUpmsOrganTree() {\r\n      const res = await apis.adminApi.getUpmsOrganTree();\r\n      console.log(res);\r\n      this.labelData = res.data.data;\r\n    },\r\n    // 模糊查询机构树形用户集合\r\n    filterNode(value, data) {\r\n      console.log(value, data);\r\n      if (!value) return true;\r\n      return data.name.indexOf(value) !== -1;\r\n    },\r\n    // 点击机构组织回调\r\n    labelDataClick(row, e) {\r\n      console.log(row);\r\n      if (e == \"add\") {\r\n        this.formAddData.organId = row.id; //将结构的id给新增的organId\r\n        this.formAddData.organName = row.name; //将结构的name给新增的organName\r\n      } else if (e == \"row\") {\r\n        this.tableDataRow.organId = row.id; //将结构的id给新增的organId\r\n        this.tableDataRow.organName = row.name; //将结构的name给新增的organName\r\n      } else {\r\n        this.pageRow.organId = row.id; //将结构的id给查询的organId\r\n        this.refresh();\r\n      }\r\n    },\r\n    // 点击查看某条用户\r\n    formSeeClick(row) {\r\n      console.log(row);\r\n      this.tableDataRow = row;\r\n      this.formSeeVisible = true;\r\n    },\r\n    // 点击编辑某条用户\r\n    async formModifyClick(row) {\r\n      this.tableDataRow = JSON.parse(JSON.stringify(row));\r\n      const roleList = await this.getUpmsRolePage();\r\n      console.log(roleList);\r\n      this.tableDataRow.roleList = roleList; // 绑定角色多选框数据\r\n      this.formModifyVisible = true;\r\n    },\r\n    // 点击编辑某条用户后确定\r\n    async formModifyDetermine() {\r\n      try {\r\n        await this.$refs.tableDataRow.validate();\r\n      } catch (err) {\r\n        return false;\r\n      }\r\n      const res = await apis.adminApi.putUpmsUser(this.tableDataRow);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.$message.success(\"编辑用户成功\");\r\n        this.formModifyVisible = false;\r\n        this.refresh();\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 点击删除某条用户\r\n    async formDeleteClick(row) {\r\n      console.log(row);\r\n      try {\r\n        const res = await this.$confirm(\r\n          \"此操作将永久删除此租户, 是否继续?\",\r\n          \"提示\",\r\n          {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\",\r\n          }\r\n        );\r\n        this.tableDataRow = row;\r\n        this.formDeleteDetermine();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    // 确定删除某条用户\r\n    async formDeleteDetermine(row) {\r\n      const res = await apis.adminApi.deleteUpmsUserId(this.tableDataRow.id);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.refresh();\r\n        this.$message.success(`删除用户${row.username}成功`);\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 点击新增用户按钮\r\n    async formAddClick() {\r\n      const roleList = await this.getUpmsRolePage();\r\n      console.log(roleList);\r\n      this.formAddData.roleList = roleList; // 绑定角色多选框数据\r\n      this.formAddVisible = true;\r\n    },\r\n    // 点击新增用户按钮后确定\r\n    async formAddDetermine() {\r\n      try {\r\n        await this.$refs.formAddData.validate();\r\n      } catch (err) {\r\n        return false;\r\n      }\r\n      this.formAddVisible = false;\r\n      const res = await apis.adminApi.postUpmsUser(this.formAddData);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.$message.success(\"新增用户成功\");\r\n        this.refresh();\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 修改某个用户的密码\r\n    changePassword(row) {\r\n      this.tableDataRow = row;\r\n      this.passwordVisible = true;\r\n    },\r\n    // 修改密码确定\r\n    async changePasswordDetermine() {\r\n      this.tableDataRow.password = this.tableDataRow.newPassword; // 将输入的新密码覆盖原密码\r\n      const res = await apis.adminApi.putUpmsUserPassword(this.tableDataRow);\r\n      console.log(res);\r\n      if (res.data.code == 0) {\r\n        this.$message.success(\"修改密码成功\");\r\n        this.refresh();\r\n      } else {\r\n        this.$message.error(res.data.msg);\r\n      }\r\n    },\r\n    // 查询登陆日志\r\n    async getUpmsLogloginPage() {\r\n      const res = await apis.systemApi.getUpmsLogloginPage(this.loginRow);\r\n      console.log(res);\r\n      this.pageData = res.data.data; // 登陆日志分页数据\r\n      this.loginData = this.pageData.records; // 登陆日志数据\r\n      this.loginVisible = true;\r\n    },\r\n    // 登陆日志点击\r\n    loginClick(row) {\r\n      this.loginRow.createId = row.tenantId;\r\n      this.getUpmsLogloginPage();\r\n    },\r\n    // 日志分页 size 变更\r\n    handleSizeChange(val) {\r\n      console.log(val);\r\n      this.loginRow.size = val;\r\n      this.getUpmsLogloginPage();\r\n    },\r\n    // 日志分页 curren 变更\r\n    handleCurrentChange(val) {\r\n      console.log(val);\r\n      this.loginRow.current = val;\r\n      this.getUpmsLogloginPage();\r\n    },\r\n    // 登陆日志查看\r\n    loginSeeClick(row) {\r\n      console.log(row);\r\n      this.loginDataRow = row;\r\n      this.loginSeeVisible = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>"]}]}