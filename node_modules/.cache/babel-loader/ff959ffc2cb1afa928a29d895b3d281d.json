{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\apis\\shiroApi.js","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\apis\\shiroApi.js","mtime":1608392150753},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHFzIGZyb20gInFzIjsKaW1wb3J0IGhlYWRlcnMgZnJvbSAiLi9oZWFkZXJzIjsgLy8g5re75Yqg6K+35rGC5oum5oiq5ZmoCi8vIGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSgoY29uZmlnKSA9PiB7Ci8vICAgICAvLyDlnKjlj5HpgIHor7fmsYLkuYvliY3lgZrkupvku4DkuYgKLy8gICAgIGlmIChjb25maWcubWV0aG9kID09PSAncG9zdCcpIHsKLy8gICAgICAgICBjb25maWcuZGF0YSA9IHFzLnN0cmluZ2lmeShjb25maWcuZGF0YSk7Ci8vICAgICB9Ci8vICAgICByZXR1cm4gY29uZmlnOwovLyB9LCAoZXJyb3IpID0+IHsKLy8gICAgIC8vIOWvueivt+axgumUmeivr+WBmuS6m+S7gOS5iAovLyAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKLy8gfSk7CgovKioKICog57O757uf6K6k6K+B5o6l5Y+jCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIC8qKgogICAqIOezu+e7n+eZu+mZhgogICAqLwogIGxvZ2luSW46IGZ1bmN0aW9uIGxvZ2luSW4oX3JlZikgewogICAgdmFyIGxvZ2luTmFtZSA9IF9yZWYubG9naW5OYW1lLAogICAgICAgIHBhc3N3b3JkID0gX3JlZi5wYXNzd29yZDsKICAgIHZhciBwYXJhbSA9IHsKICAgICAgZ3JhbnRfdHlwZTogInBhc3N3b3JkIiwKICAgICAgdXNlcm5hbWU6IGxvZ2luTmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBzY29wZTogInNlcnZlciIKICAgIH07CiAgICBwYXJhbSA9IHFzLnN0cmluZ2lmeShwYXJhbSk7CiAgICByZXR1cm4gQXhpb3MucG9zdCgnL2F1dGgvb2F1dGgvdG9rZW4nLCBwYXJhbSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAgICdBdXRob3JpemF0aW9uJzogJ0Jhc2ljIFlXUnRhVzQ2WVdSdGFXND0nCiAgICAgIH0KICAgIH0pOwogIH0sCiAgLy8g6I635Y+W6I+c5Y2VCiAgbG9naW5NZW51OiBmdW5jdGlvbiBsb2dpbk1lbnUoKSB7CiAgICAvLyB2YXIgcGFyYW0gPSB7CiAgICAvLyAgICAgZ3JhbnRfdHlwZTogInBhc3N3b3JkIiwKICAgIC8vICAgICB1c2VybmFtZTogbG9naW5OYW1lLAogICAgLy8gICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgIC8vICAgICBzY29wZTogInNlcnZlciIKICAgIC8vIH07CiAgICBjb25zb2xlLmxvZyhoZWFkZXJzKTsKICAgIHJldHVybiBBeGlvcy5nZXQoJy9hcGkvdXBtcy9tZW51JywgewogICAgICAvLyBwYXJhbSwKICAgICAgaGVhZGVyczogaGVhZGVycwogICAgfSk7CiAgfSwKCiAgLyoqCiAgICog6YCA5Ye655m76ZmGCiAgICovCiAgbG9naW5PdXQ6IGZ1bmN0aW9uIGxvZ2luT3V0KCkgewogICAgcmV0dXJuIEF4aW9zLnBvc3QoJy9hcGkvc2hpcm8tYXBpL2xvZ2lub3V0Jyk7CiAgfSwKCiAgLyoqCiAgICog6K6w5b2V55m76ZmG5pel5b+XCiAgICovCiAgbG9naW5Mb2c6IGZ1bmN0aW9uIGxvZ2luTG9nKF9yZWYyKSB7CiAgICB2YXIgaXAgPSBfcmVmMi5pcCwKICAgICAgICBjaXR5ID0gX3JlZjIuY2l0eSwKICAgICAgICB0eXBlID0gX3JlZjIudHlwZTsKICAgIHZhciBwYXJhbSA9IHsKICAgICAgaXA6IGlwLAogICAgICBjaXR5OiBjaXR5LAogICAgICB0eXBlOiB0eXBlCiAgICB9OwogICAgcmV0dXJuIEF4aW9zLnBvc3QoJy9hcGkvbG9naW5sb2ctYXBpL3NhdmUnLCBwYXJhbSk7CiAgfSwKCiAgLyoqCiAgICog6L+Y5Y6f5pWw5o2uCiAgICovCiAgcm9sbEJhY2tUYWJsZXM6IGZ1bmN0aW9uIHJvbGxCYWNrVGFibGVzKCkgewogICAgcmV0dXJuIEF4aW9zLnBvc3QoJy9hcGkvbG9naW5sb2ctYXBpL3JvbGxCYWNrVGFibGVzJyk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/84715/Desktop/q/background-template/src/apis/shiroApi.js"],"names":["Axios","qs","headers","loginIn","loginName","password","param","grant_type","username","scope","stringify","post","loginMenu","console","log","get","loginOut","loginLog","ip","city","type","rollBackTables"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,OAAP,MAAoB,WAApB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA,eAAe;AACX;AACJ;AACA;AACIC,EAAAA,OAAO,EAAE,uBAAkC;AAAA,QAAvBC,SAAuB,QAAvBA,SAAuB;AAAA,QAAZC,QAAY,QAAZA,QAAY;AACvC,QAAIC,KAAK,GAAG;AACRC,MAAAA,UAAU,EAAE,UADJ;AAERC,MAAAA,QAAQ,EAAEJ,SAFF;AAGRC,MAAAA,QAAQ,EAAEA,QAHF;AAIRI,MAAAA,KAAK,EAAE;AAJC,KAAZ;AAMAH,IAAAA,KAAK,GAAGL,EAAE,CAACS,SAAH,CAAaJ,KAAb,CAAR;AACA,WAAON,KAAK,CAACW,IAAN,CAAW,mBAAX,EACHL,KADG,EACI;AACHJ,MAAAA,OAAO,EAAE;AACL,wBAAgB,mCADX;AAEL,yBAAiB;AAFZ;AADN,KADJ,CAAP;AAQH,GApBU;AAqBX;AACAU,EAAAA,SAAS,EAAE,qBAAW;AAClB;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;AACA,WAAOF,KAAK,CAACe,GAAN,CAAU,gBAAV,EAA4B;AAC/B;AACAb,MAAAA,OAAO,EAAPA;AAF+B,KAA5B,CAAP;AAIH,GAlCU;;AAmCX;AACJ;AACA;AACIc,EAAAA,QAAQ,EAAE,oBAAW;AACjB,WAAOhB,KAAK,CAACW,IAAN,CAAW,yBAAX,CAAP;AACH,GAxCU;;AAyCX;AACJ;AACA;AACIM,EAAAA,QAAQ,EAAE,yBAA6B;AAAA,QAAlBC,EAAkB,SAAlBA,EAAkB;AAAA,QAAdC,IAAc,SAAdA,IAAc;AAAA,QAARC,IAAQ,SAARA,IAAQ;AACnC,QAAId,KAAK,GAAG;AACRY,MAAAA,EAAE,EAAEA,EADI;AAERC,MAAAA,IAAI,EAAEA,IAFE;AAGRC,MAAAA,IAAI,EAAEA;AAHE,KAAZ;AAKA,WAAOpB,KAAK,CAACW,IAAN,CAAW,wBAAX,EAAqCL,KAArC,CAAP;AACH,GAnDU;;AAoDX;AACJ;AACA;AACIe,EAAAA,cAAc,EAAE,0BAAW;AACvB,WAAOrB,KAAK,CAACW,IAAN,CAAW,kCAAX,CAAP;AACH;AAzDU,CAAf","sourcesContent":["import Axios from \"axios\";\nimport qs from \"qs\";\nimport headers from \"./headers\";\n// 添加请求拦截器\n// axios.interceptors.request.use((config) => {\n//     // 在发送请求之前做些什么\n//     if (config.method === 'post') {\n//         config.data = qs.stringify(config.data);\n//     }\n//     return config;\n// }, (error) => {\n//     // 对请求错误做些什么\n//     return Promise.reject(error);\n// });\n/**\n * 系统认证接口\n */\nexport default {\n    /**\n     * 系统登陆\n     */\n    loginIn: function({ loginName, password }) {\n        var param = {\n            grant_type: \"password\",\n            username: loginName,\n            password: password,\n            scope: \"server\"\n        };\n        param = qs.stringify(param);\n        return Axios.post('/auth/oauth/token',\n            param, {\n                headers: {\n                    'content-type': 'application/x-www-form-urlencoded',\n                    'Authorization': 'Basic YWRtaW46YWRtaW4='\n                }\n            });\n\n    },\n    // 获取菜单\n    loginMenu: function() {\n        // var param = {\n        //     grant_type: \"password\",\n        //     username: loginName,\n        //     password: password,\n        //     scope: \"server\"\n        // };\n        console.log(headers)\n        return Axios.get('/api/upms/menu', {\n            // param,\n            headers\n        });\n    },\n    /**\n     * 退出登陆\n     */\n    loginOut: function() {\n        return Axios.post('/api/shiro-api/loginout');\n    },\n    /**\n     * 记录登陆日志\n     */\n    loginLog: function({ ip, city, type }) {\n        var param = {\n            ip: ip,\n            city: city,\n            type: type\n        };\n        return Axios.post('/api/loginlog-api/save', param);\n    },\n    /**\n     * 还原数据\n     */\n    rollBackTables: function() {\n        return Axios.post('/api/loginlog-api/rollBackTables');\n    }\n}"]}]}