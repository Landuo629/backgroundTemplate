{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\views\\login.vue","mtime":1608772432654},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzg0NzE1L0Rlc2t0b3AvcS9iYWNrZ3JvdW5kLXRlbXBsYXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFwaXMgZnJvbSAiQC9hcGlzL2FwaXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybUxvZ2luOiB7CiAgICAgICAgLy/ooajljZXlr7nosaEKICAgICAgICBsb2dpbk5hbWU6ICJhZG1pbiIsCiAgICAgICAgcGFzc3dvcmQ6ICIxMjM0NTYiCiAgICAgIH0sCiAgICAgIGVycm9ySW5mbzogewogICAgICAgIHRleHQ6ICLnmbvpmYblpLHotKUs6K+36YeN6K+VIiwKICAgICAgICBpc1Nob3dFcnJvcjogZmFsc2UgLy/mmL7npLrplJnor6/mj5DnpLoKCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpcywKICAgICAgICBfYXJndW1lbnRzID0gYXJndW1lbnRzOwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy4kcmVmcy5pbWcuc3JjID0gIkAvc3RhdGljL2ltZy9sb2dpbmJnLndlYnAiOwogICAgfSwgMTAwMCk7CiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsICIiKTsgLy8g5Zue6L2m54K55Ye75Zue6LCDCgogICAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50IHx8IF9hcmd1bWVudHMuY2FsbGVlLmNhbGxlci5hcmd1bWVudHNbMF07CgogICAgICBpZiAoZSAmJiBlLmtleUNvZGUgPT0gMTMgJiYgX3RoaXMuJHJvdXRlLnBhdGggPT0gIi9sb2dpbiIpIHsKICAgICAgICAvLyBlbnRlciDplK4KICAgICAgICBfdGhpcy5sb2dpbigpOwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/osIPnlKjlkI7nq6/nmbvpmYbmjqXlj6MKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIG1lbnUsIGpzb247CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlzLnNoaXJvQXBpLmxvZ2luSW4oX3RoaXMyLmZvcm1Mb2dpbik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdWNjZXNzOueZu+mZhuaIkOWKnyIsIHJlcyk7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmNvZGUgPT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDlrZjlhaUgdG9rZW4KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzLmRhdGEudG9rZW5IZWFkICsgcmVzLmRhdGEudG9rZW4pOyAvLyDojrflj5boj5zljZXnrYkKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpcy5zaGlyb0FwaS5sb2dpbk1lbnUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIG1lbnUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm1lbnU65oiQ5YqfIiwgbWVudSk7CgogICAgICAgICAgICAgICAgaWYgKG1lbnUuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAganNvbiA9IG1lbnUuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi9pbmRleCIKICAgICAgICAgICAgICAgICAgfSk7IC8vIOWtmOWFpeadg+mZkCzmuLLmn5PmjInpkq4KCgogICAgICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJhZGRfYnV0dG9ucyIsIGpzb24pOyAvLyDlrZjlhaXoj5zljZUs5riy5p+T6I+c5Y2VCgoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiYWRkX01lbnVzIiwganNvbik7CgogICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VybmFtZSIsIF90aGlzMi5mb3JtTG9naW4ubG9naW5OYW1lKTsgLy8gIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImxldiIsIGpzb24uc3lzUm9sZVZvTGlzdCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3I65aSx6LSlIiwgX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ySW5mby5pc1Nob3dFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JJbmZvLnRleHQgPSAi57O757uf5o6l5Y+j5byC5bi4IjsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTVdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,IAAA,MAAA,aAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA;AACA,QAAA,SAAA,EAAA,OAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,WAAA,EAAA,KAFA,CAEA;;AAFA;AANA,KAAA;AAWA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;AAAA;;AACA,IAAA,UAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA,GAAA,2BAAA;AACA,KAFA,EAEA,IAFA,CAAA;AAIA,IAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,EAAA,EALA,CAMA;;AACA,IAAA,QAAA,CAAA,SAAA,GAAA,UAAA,KAAA,EAAA;AACA,UAAA,CAAA,GAAA,KAAA,IAAA,MAAA,CAAA,KAAA,IAAA,UAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,CAAA,CAAA;;AACA,UAAA,CAAA,IAAA,CAAA,CAAA,OAAA,IAAA,EAAA,IAAA,KAAA,CAAA,MAAA,CAAA,IAAA,IAAA,QAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,KAAA;AACA;AACA,KANA;AAOA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,KAFA,mBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,SAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;AAGA,gBAAA,GAAA,GAAA,GAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,GAAA;;AAJA,sBAKA,GAAA,CAAA,IAAA,IAAA,CALA;AAAA;AAAA;AAAA;;AAMA;AACA,gBAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAPA,CAQA;;AARA;AAAA,uBASA,IAAA,CAAA,QAAA,CAAA,SAAA,EATA;;AAAA;AASA,gBAAA,IATA;AAUA,gBAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,IAAA;;AACA,oBAAA,IAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,IADA,GACA,IAAA,CAAA,IAAA,CAAA,IADA;;AAEA,kBAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA,EAFA,CAGA;;;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,IAAA,EAJA,CAKA;;;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA,IAAA;;AACA,kBAAA,cAAA,CAAA,OAAA,CAAA,UAAA,EAAA,MAAA,CAAA,SAAA,CAAA,SAAA,EAPA,CAQA;AACA;;AApBA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAuBA,gBAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,WAAA,GAAA,IAAA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,IAAA,GAAA,QAAA;;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA;AA7BA;AA9BA,CAAA","sourcesContent":["<template>\n  <div class=\"login_wrapper\">\n    <div class=\"login\">\n      <el-form :model=\"formLogin\">\n        <el-form-item>\n          <h2 class=\"title\">后台管理系统</h2>\n        </el-form-item>\n        <el-form-item>\n          <el-input v-model=\"formLogin.loginName\" placeholder=\"账号\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-input v-model=\"formLogin.password\" placeholder=\"密码\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"login\">登 陆</el-button>\n          <span v-show=\"this.errorInfo.isShowError\" class=\"error\">\n            {{ this.errorInfo.text }}\n          </span>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!-- <p class=\"bei\">京ICP备18050367号-1</p> -->\n    <img ref=\"img\" src='@/static/img/loginbg.webp' alt=\"\">\n  </div>\n</template>\n\n<script>\nimport apis from \"@/apis/apis\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      formLogin: {\n        //表单对象\n        loginName: \"admin\",\n        password: \"123456\",\n      },\n      errorInfo: {\n        text: \"登陆失败,请重试\",\n        isShowError: false, //显示错误提示\n      },\n    };\n  },\n  mounted() {\n    setTimeout(() => {\n      this.$refs.img.src = \"@/static/img/loginbg.webp\";\n    }, 1000);\n\n    sessionStorage.setItem(\"token\", \"\");\n    // 回车点击回调\n    document.onkeydown = (event) => {\n      const e = event || window.event || arguments.callee.caller.arguments[0];\n      if (e && e.keyCode == 13 && this.$route.path == \"/login\") {\n        // enter 键\n        this.login();\n      }\n    };\n  },\n  methods: {\n    //调用后端登陆接口\n    async login() {\n      try {\n        let res = await apis.shiroApi.loginIn(this.formLogin);\n        res = res.data;\n        console.log(\"success:登陆成功\", res);\n        if (res.code == 0) {\n          // 存入 token\n          sessionStorage.setItem(\"token\", res.data.tokenHead + res.data.token);\n          // 获取菜单等\n          const menu = await apis.shiroApi.loginMenu();\n          console.log(\"menu:成功\", menu);\n          if (menu.data.code == 0) {\n            let json = menu.data.data;\n            this.$router.replace({ path: \"/index\" });\n            // 存入权限,渲染按钮\n            this.$store.dispatch(\"add_buttons\", json);\n            // 存入菜单,渲染菜单\n            this.$store.dispatch(\"add_Menus\", json);\n            sessionStorage.setItem(\"username\", this.formLogin.loginName);\n            //  sessionStorage.setItem(\"lev\", json.sysRoleVoList);\n          }\n        }\n      } catch (err) {\n        console.log(\"error:失败\", err);\n        this.errorInfo.isShowError = true;\n        this.errorInfo.text = \"系统接口异常\";\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n$input_width: 300px;\n\n.login_wrapper {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  // background-image: url(\"~@/static/img/loginbg.png\");\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  .login {\n    position: absolute;\n    right: 15%;\n    top: 30%;\n    width: 460px;\n    height: 40%;\n    // margin-top: -150px;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cac6c6;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .title {\n      text-align: center;\n      color: #ffffff;\n    }\n    .el-form-item__content {\n      width: $input_width;\n    }\n    .el-button {\n      width: $input_width;\n    }\n    .el-form {\n      // margin: 30px 80px auto 80px;\n      .error {\n        display: block;\n        text-align: center;\n        color: red;\n      }\n    }\n  }\n}\n.recover {\n  position: absolute;\n  bottom: 0px;\n  cursor: pointer;\n  color: #e6a23c;\n  // display: none;\n}\n.bei {\n  position: absolute;\n  bottom: 20px;\n  cursor: pointer;\n  color: #505458;\n}\n</style>\n"],"sourceRoot":"src/views"}]}