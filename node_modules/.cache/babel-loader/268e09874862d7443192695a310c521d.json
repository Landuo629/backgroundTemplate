{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\router\\index.js","mtime":1608455384182},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICcvaW5kZXgnCn0sIHsKICBwYXRoOiAnL2xvZ2luJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0Avdmlld3MvbG9naW4udnVlJyk7CiAgfSwKICBtZXRhOiB7CiAgICB0aXRsZTogJ+eZu+mZhicKICB9Cn0sLCB7CiAgcGF0aDogJy80MDQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21tb24vNDA0LnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvNDAzJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tbW9uLzQwMy52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnKicsCiAgcmVkaXJlY3Q6ICcvNDA0Jwp9XTsgLy8gLyoqCi8vICAqIOivt+axguaLpuaIquWZqCzmt7vliqDor7fmsYLlpLR0b2tlbgovLyAgKi8KLy8gYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKAovLyAgICAgY29uZmlnID0+IHsKLy8gICAgICAgICBjb25zb2xlLmxvZygnPj4+6K+35rGCdXJsOicsIGNvbmZpZy51cmwpOwovLyAgICAgICAgIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7Ci8vICAgICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikpIHsKLy8gICAgICAgICAgICAgaGVhZGVycy5BdXRob3JpemF0aW9uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKLy8gICAgICAgICB9Ci8vICAgICAgICAgcmV0dXJuIGNvbmZpZzsKLy8gICAgIH0sCi8vICAgICBlcnJvciA9PiB7Ci8vICAgICAgICAgY29uc29sZS5sb2coJz4+Puivt+axguW8guW4uDonLCBlcnJvci5tZXNzYWdlKTsKLy8gICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwovLyAgICAgfSk7Ci8vIC8v5o6l5Y+j6K+35rGC6LaF5pe26K6+572uCi8vIGF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSA1MDAwOyAvL+avq+enkgovLyAvKioKLy8gICog5bqU562U5oum5oiq5ZmoLOa3u+WKoOivt+axguWktHRva2VuCi8vICAqLwovLyBheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uKHJlc3BvbnNlKSB7Ci8vICAgICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXNwb25zZSBkYXRhCi8vICAgICBjb25zb2xlLmxvZygnPDw86K+35rGC5oiQ5YqfJyk7Ci8vICAgICByZXR1cm4gcmVzcG9uc2U7Ci8vIH0sIGVycm9yID0+IHsKLy8gICAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlc3BvbnNlIGVycm9yCi8vICAgICBjb25zb2xlLmxvZygnPDw85byC5bi45L+h5oGvOicsIGVycm9yLm1lc3NhZ2UpOwovLyAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKLy8gfSk7Cgp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgcm91dGVzOiByb3V0ZXMsCiAgbW9kZTogJ2hpc3RvcnknCn0pOyAvL+WFqOWxgOi3r+eUseWuiOWNqwoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsgLy8g5aaC5p6c5rKh55m75b2VLOmDveWvvOWQkeeZu+W9lemhtQoKICBpZiAoIXRva2VuKSB7CiAgICBpZiAodG8ucGF0aCAhPT0gJy9sb2dpbicpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/84715/Desktop/q/background-template/src/router/index.js"],"names":["Vue","VueRouter","axios","use","routes","path","redirect","component","meta","title","router","mode","beforeEach","to","from","next","token","sessionStorage","getItem"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,CAAC;AACRC,EAAAA,IAAI,EAAE,GADE;AAERC,EAAAA,QAAQ,EAAE;AAFF,CAAD,EAIX;AACID,EAAAA,IAAI,EAAE,QADV;AAEIE,EAAAA,SAAS,EAAE;AAAA,WACP,OAAQ,mBAAR,CADO;AAAA,GAFf;AAIIC,EAAAA,IAAI,EAAE;AACFC,IAAAA,KAAK,EAAE;AADL;AAJV,CAJW,GAYX;AACIJ,EAAAA,IAAI,EAAE,MADV;AAEIE,EAAAA,SAAS,EAAE;AAAA,WACP,OAAQ,kBAAR,CADO;AAAA;AAFf,CAZW,EAiBX;AACIF,EAAAA,IAAI,EAAE,MADV;AAEIE,EAAAA,SAAS,EAAE;AAAA,WACP,OAAQ,kBAAR,CADO;AAAA;AAFf,CAjBW,EAsBX;AACIF,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CAtBW,CAAf,C,CA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMI,MAAM,GAAG,IAAIT,SAAJ,CAAc;AACzBG,EAAAA,MAAM,EAANA,MADyB;AAEzBO,EAAAA,IAAI,EAAE;AAFmB,CAAd,CAAf,C,CAKA;;AACAD,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAIC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ,CADkC,CAElC;;AACA,MAAI,CAACF,KAAL,EAAY;AACR,QAAIH,EAAE,CAACR,IAAH,KAAY,QAAhB,EAA0B;AACtBU,MAAAA,IAAI,CAAC;AAAEV,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACH,KAFD,MAEO;AACHU,MAAAA,IAAI;AACP;AACJ,GAND,MAMO;AACHA,IAAAA,IAAI;AACP;AACJ,CAZD;AAcA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport axios from 'axios';\n\nVue.use(VueRouter)\n\nconst routes = [{\n        path: '/',\n        redirect: '/index'\n    },\n    {\n        path: '/login',\n        component: () =>\n            import ('@/views/login.vue'),\n        meta: {\n            title: '登陆'\n        }\n    }, ,\n    {\n        path: '/404',\n        component: () =>\n            import ('@/common/404.vue'),\n    },\n    {\n        path: '/403',\n        component: () =>\n            import ('@/common/403.vue'),\n    },\n    {\n        path: '*',\n        redirect: '/404'\n    },\n]\n\n// /**\n//  * 请求拦截器,添加请求头token\n//  */\n// axios.interceptors.request.use(\n//     config => {\n//         console.log('>>>请求url:', config.url);\n//         var headers = config.headers;\n//         if (sessionStorage.getItem(\"token\")) {\n//             headers.Authorization = sessionStorage.getItem(\"token\");\n//         }\n//         return config;\n//     },\n//     error => {\n//         console.log('>>>请求异常:', error.message);\n//         return Promise.reject(error);\n//     });\n// //接口请求超时设置\n// axios.defaults.timeout = 5000; //毫秒\n// /**\n//  * 应答拦截器,添加请求头token\n//  */\n// axios.interceptors.response.use(function(response) {\n//     // Do something with response data\n//     console.log('<<<请求成功');\n//     return response;\n// }, error => {\n//     // Do something with response error\n//     console.log('<<<异常信息:', error.message);\n//     return Promise.reject(error);\n// });\n\nconst router = new VueRouter({\n    routes,\n    mode: 'history'\n})\n\n//全局路由守卫\nrouter.beforeEach((to, from, next) => {\n    var token = sessionStorage.getItem('token');\n    // 如果没登录,都导向登录页\n    if (!token) {\n        if (to.path !== '/login') {\n            next({ path: '/login' })\n        } else {\n            next();\n        }\n    } else {\n        next();\n    }\n})\n\nexport default router"]}]}