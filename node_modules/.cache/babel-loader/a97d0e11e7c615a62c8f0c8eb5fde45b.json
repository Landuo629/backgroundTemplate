{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\store\\components\\addRoutes.js","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\store\\components\\addRoutes.js","mtime":1608706579213},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvODQ3MTUvRGVza3RvcC9xL2JhY2tncm91bmQtdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCByb3V0ZURldiBmcm9tICdAL3JvdXRlci9yb3V0ZURldic7Ci8qKgogKiDliqjmgIHmt7vliqDmjInpkq7mnYPpmZAKICogYXV0aG9yOnFseAogKi8KCnZhciBhZGRSb3V0ZXMgPSB7CiAgc3RhdGU6IHsKICAgIHJvb3RSb3V0ZTogW10sCiAgICByb3V0ZVBhcmFtOiBbXSAvL+i/memHjOW/hemhu+aMgeS5heWMluWPguaVsCzph43mlrDnlJ/miJDot6/nlLEs5Zug5Li66YeM6L6555qEcmVxdWlyZeaWueazleayoeazleaMgeS5heWMlgoKICB9LAogIG11dGF0aW9uczogewogICAgYWRkX1JvdXRlczogZnVuY3Rpb24gYWRkX1JvdXRlcyhzdGF0ZSwgcm91dGVQYXJhbSkgewogICAgICB2YXIgcm91dGVMaXN0ID0gW107IC8v5re75Yqg6buY6K6k6Lev55SxLOaWsOeUqOaIt+eZu+mZhuWPr+S7peaYvuekuummlumhtQoKICAgICAgcm91dGVMaXN0LnB1c2goewogICAgICAgIG5hbWU6ICdpbmRleCcsCiAgICAgICAgcGF0aDogJy9pbmRleCcsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCdAL3ZpZXdzL2luZGV4LnZ1ZScpOwogICAgICAgIH0sCiAgICAgICAgbWV0YTogewogICAgICAgICAgdGl0bGU6ICfns7vnu5/pppbpobUnCiAgICAgICAgfQogICAgICB9KTsgLy/lhpnlhaXlvIDlj5HmqKHlvI/kuIvpnZnmgIHot6/nlLEKCiAgICAgIGlmIChyb3V0ZURldi5ST1VURV9ERVYgPT0gdHJ1ZSkgewogICAgICAgIHJvdXRlTGlzdC5wdXNoLmFwcGx5KHJvdXRlTGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KHJvdXRlRGV2LnJvdXRlRGV2TGlzdCkpOyAvLy4uLuaYr2VzNuS4reeahCDigJjngrnor63ms5XigJkg5omp5bGV6L+Q566X56ymCiAgICAgIH0KCiAgICAgIHZhciByb3V0ZUhpZGVMaXN0ID0gW107CiAgICAgIHZhciByb290Um91dGUgPSBbewogICAgICAgIHBhdGg6ICcvJywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChyZXNvbHZlKSB7CiAgICAgICAgICByZXR1cm4gcmVxdWlyZShbJ0AvY29tbW9uL0hvbWUudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0sCiAgICAgICAgbWV0YTogewogICAgICAgICAgdGl0bGU6ICfoh6rov7Dmlofku7YnCiAgICAgICAgfSwKICAgICAgICBjaGlsZHJlbjogcm91dGVMaXN0CiAgICAgIH1dOyAvL+a3u+WKoOaWsOeql+WPo+aJk+W8gOeahOmhtemdogoKICAgICAgaWYgKHJvdXRlSGlkZUxpc3QgJiYgcm91dGVIaWRlTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgcm9vdFJvdXRlID0gcm9vdFJvdXRlLmNvbmNhdChyb3V0ZUhpZGVMaXN0KTsKICAgICAgfSAvL+S/neWtmOi3r+eUseWPguaVsOWIsHN0b3Jl5LitCgoKICAgICAgc3RhdGUucm91dGVQYXJhbSA9IHJvdXRlUGFyYW07CiAgICAgIHN0YXRlLnJvb3RSb3V0ZSA9IHJvb3RSb3V0ZTsgLy/liqjmgIHmt7vliqDot6/nlLEKCiAgICAgIHJvdXRlci5hZGRSb3V0ZXMocm9vdFJvdXRlKTsKICAgICAgY29uc29sZS5sb2coJ+i+k+WHuui3r+eUsTonLCBKU09OLnN0cmluZ2lmeShyb290Um91dGUpKTsKICAgIH0sCiAgICBhZGRfUm91dGVzX0ZyZXNoOiBmdW5jdGlvbiBhZGRfUm91dGVzX0ZyZXNoKHN0YXRlKSB7CiAgICAgIC8vIGlmIChzdGF0ZS5yb3V0ZVBhcmFtICYmIHN0YXRlLnJvdXRlUGFyYW0ubGVuZ3RoID4gMCkgewogICAgICB0aGlzLmNvbW1pdCgnYWRkX1JvdXRlcycsIHN0YXRlLnJvdXRlUGFyYW0pOyAvLyB9CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBhZGRfUm91dGVzOiBmdW5jdGlvbiBhZGRfUm91dGVzKF9yZWYsIHJvdXRlUGFyYW0pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoJ2FkZF9Sb3V0ZXMnLCByb3V0ZVBhcmFtKTsKICAgIH0sCiAgICBhZGRfUm91dGVzX0ZyZXNoOiBmdW5jdGlvbiBhZGRfUm91dGVzX0ZyZXNoKF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIGNvbW1pdCgnYWRkX1JvdXRlc19GcmVzaCcpOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgYWRkUm91dGVzOw=="},{"version":3,"sources":["C:/Users/84715/Desktop/q/background-template/src/store/components/addRoutes.js"],"names":["router","routeDev","addRoutes","state","rootRoute","routeParam","mutations","add_Routes","routeList","push","name","path","component","meta","title","ROUTE_DEV","routeDevList","routeHideList","resolve","require","children","length","concat","console","log","JSON","stringify","add_Routes_Fresh","commit","actions"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AAEA;AACA;AACA;AACA;;AACA,IAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE;AACHC,IAAAA,SAAS,EAAE,EADR;AAEHC,IAAAA,UAAU,EAAE,EAFT,CAEY;;AAFZ,GADO;AAKdC,EAAAA,SAAS,EAAE;AACPC,IAAAA,UADO,sBACIJ,KADJ,EACWE,UADX,EACuB;AAC1B,UAAIG,SAAS,GAAG,EAAhB,CAD0B,CAE1B;;AACAA,MAAAA,SAAS,CAACC,IAAV,CAAe;AACXC,QAAAA,IAAI,EAAE,OADK;AAEXC,QAAAA,IAAI,EAAE,QAFK;AAGXC,QAAAA,SAAS,EAAE;AAAA,iBACP,OAAQ,mBAAR,CADO;AAAA,SAHA;AAKXC,QAAAA,IAAI,EAAE;AACFC,UAAAA,KAAK,EAAE;AADL;AALK,OAAf,EAH0B,CAY1B;;AACA,UAAIb,QAAQ,CAACc,SAAT,IAAsB,IAA1B,EAAgC;AAC5BP,QAAAA,SAAS,CAACC,IAAV,OAAAD,SAAS,qBAASP,QAAQ,CAACe,YAAlB,EAAT,CAD4B,CACc;AAC7C;;AACD,UAAIC,aAAa,GAAG,EAApB;AACA,UAAIb,SAAS,GAAG,CAAC;AACbO,QAAAA,IAAI,EAAE,GADO;AAEbC,QAAAA,SAAS,EAAE,mBAAAM,OAAO;AAAA,iBAAIC,OAAO,CAAC,CAAC,mBAAD,CAAD,EAAwBD,OAAxB,CAAX;AAAA,SAFL;AAGbL,QAAAA,IAAI,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAHO;AAIbM,QAAAA,QAAQ,EAAEZ;AAJG,OAAD,CAAhB,CAjB0B,CAuB1B;;AACA,UAAIS,aAAa,IAAIA,aAAa,CAACI,MAAd,GAAuB,CAA5C,EAA+C;AAC3CjB,QAAAA,SAAS,GAAGA,SAAS,CAACkB,MAAV,CAAiBL,aAAjB,CAAZ;AACH,OA1ByB,CA2B1B;;;AACAd,MAAAA,KAAK,CAACE,UAAN,GAAmBA,UAAnB;AACAF,MAAAA,KAAK,CAACC,SAAN,GAAkBA,SAAlB,CA7B0B,CA8B1B;;AACAJ,MAAAA,MAAM,CAACE,SAAP,CAAiBE,SAAjB;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,IAAI,CAACC,SAAL,CAAetB,SAAf,CAArB;AACH,KAlCM;AAmCPuB,IAAAA,gBAnCO,4BAmCUxB,KAnCV,EAmCiB;AACpB;AACA,WAAKyB,MAAL,CAAY,YAAZ,EAA0BzB,KAAK,CAACE,UAAhC,EAFoB,CAGhB;AACP;AAvCM,GALG;AA8CdwB,EAAAA,OAAO,EAAE;AACLtB,IAAAA,UADK,4BACkBF,UADlB,EAC8B;AAAA,UAAtBuB,MAAsB,QAAtBA,MAAsB;AAC/BA,MAAAA,MAAM,CAAC,YAAD,EAAevB,UAAf,CAAN;AACH,KAHI;AAILsB,IAAAA,gBAJK,mCAIwB;AAAA,UAAVC,MAAU,SAAVA,MAAU;AACzBA,MAAAA,MAAM,CAAC,kBAAD,CAAN;AACH;AANI;AA9CK,CAAlB;AAuDA,eAAe1B,SAAf","sourcesContent":["import router from '@/router';\nimport routeDev from '@/router/routeDev';\n\n/**\n * 动态添加按钮权限\n * author:qlx\n */\nconst addRoutes = {\n    state: {\n        rootRoute: [],\n        routeParam: [] //这里必须持久化参数,重新生成路由,因为里边的require方法没法持久化\n    },\n    mutations: {\n        add_Routes(state, routeParam) {\n            let routeList = [];\n            //添加默认路由,新用户登陆可以显示首页\n            routeList.push({\n                name: 'index',\n                path: '/index',\n                component: () =>\n                    import ('@/views/index.vue'),\n                meta: {\n                    title: '系统首页'\n                }\n            });\n            //写入开发模式下静态路由\n            if (routeDev.ROUTE_DEV == true) {\n                routeList.push(...routeDev.routeDevList); //...是es6中的 ‘点语法’ 扩展运算符\n            }\n            let routeHideList = [];\n            var rootRoute = [{\n                path: '/',\n                component: resolve => require(['@/common/Home.vue'], resolve),\n                meta: { title: '自述文件' },\n                children: routeList\n            }];\n            //添加新窗口打开的页面\n            if (routeHideList && routeHideList.length > 0) {\n                rootRoute = rootRoute.concat(routeHideList);\n            }\n            //保存路由参数到store中\n            state.routeParam = routeParam;\n            state.rootRoute = rootRoute;\n            //动态添加路由\n            router.addRoutes(rootRoute);\n            console.log('输出路由:', JSON.stringify(rootRoute));\n        },\n        add_Routes_Fresh(state) {\n            // if (state.routeParam && state.routeParam.length > 0) {\n            this.commit('add_Routes', state.routeParam)\n                // }\n        }\n    },\n    actions: {\n        add_Routes({ commit }, routeParam) {\n            commit('add_Routes', routeParam)\n        },\n        add_Routes_Fresh({ commit }) {\n            commit('add_Routes_Fresh')\n        }\n    }\n}\nexport default addRoutes"]}]}