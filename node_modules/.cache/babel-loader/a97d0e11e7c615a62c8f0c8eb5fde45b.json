{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\store\\components\\addRoutes.js","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\store\\components\\addRoutes.js","mtime":1608605747602},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvODQ3MTUvRGVza3RvcC9xL2JhY2tncm91bmQtdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCByb3V0ZURldiBmcm9tICdAL3JvdXRlci9yb3V0ZURldic7Ci8qKgogKiDliqjmgIHmt7vliqDmjInpkq7mnYPpmZAKICovCgp2YXIgYWRkUm91dGVzID0gewogIHN0YXRlOiB7CiAgICByb290Um91dGU6IFtdLAogICAgcm91dGVQYXJhbTogW10gLy/ov5nph4zlv4XpobvmjIHkuYXljJblj4LmlbAs6YeN5paw55Sf5oiQ6Lev55SxLOWboOS4uumHjOi+ueeahHJlcXVpcmXmlrnms5XmsqHms5XmjIHkuYXljJYKCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGFkZF9Sb3V0ZXM6IGZ1bmN0aW9uIGFkZF9Sb3V0ZXMoc3RhdGUsIHJvdXRlUGFyYW0pIHsKICAgICAgdmFyIHJvdXRlTGlzdCA9IFtdOyAvL+a3u+WKoOm7mOiupOi3r+eUsSzmlrDnlKjmiLfnmbvpmYblj6/ku6XmmL7npLrpppbpobUKCiAgICAgIHJvdXRlTGlzdC5wdXNoKHsKICAgICAgICBuYW1lOiAnaW5kZXgnLAogICAgICAgIHBhdGg6ICcvaW5kZXgnLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgnQC92aWV3cy9pbmRleC52dWUnKTsKICAgICAgICB9LAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHRpdGxlOiAn57O757uf6aaW6aG1JwogICAgICAgIH0KICAgICAgfSk7IC8v5YaZ5YWl5byA5Y+R5qih5byP5LiL6Z2Z5oCB6Lev55SxCgogICAgICBpZiAocm91dGVEZXYuUk9VVEVfREVWID09IHRydWUpIHsKICAgICAgICByb3V0ZUxpc3QucHVzaC5hcHBseShyb3V0ZUxpc3QsIF90b0NvbnN1bWFibGVBcnJheShyb3V0ZURldi5yb3V0ZURldkxpc3QpKTsgLy8uLi7mmK9lczbkuK3nmoQg4oCY54K56K+t5rOV4oCZIOaJqeWxlei/kOeul+espgogICAgICB9CgogICAgICB2YXIgcm91dGVIaWRlTGlzdCA9IFtdOwogICAgICB2YXIgcm9vdFJvdXRlID0gW3sKICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocmVzb2x2ZSkgewogICAgICAgICAgcmV0dXJuIHJlcXVpcmUoWydAL2NvbW1vbi9Ib21lLnZ1ZSddLCByZXNvbHZlKTsKICAgICAgICB9LAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHRpdGxlOiAn6Ieq6L+w5paH5Lu2JwogICAgICAgIH0sCiAgICAgICAgY2hpbGRyZW46IHJvdXRlTGlzdAogICAgICB9XTsgLy/mt7vliqDmlrDnqpflj6PmiZPlvIDnmoTpobXpnaIKCiAgICAgIGlmIChyb3V0ZUhpZGVMaXN0ICYmIHJvdXRlSGlkZUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHJvb3RSb3V0ZSA9IHJvb3RSb3V0ZS5jb25jYXQocm91dGVIaWRlTGlzdCk7CiAgICAgIH0gLy/kv53lrZjot6/nlLHlj4LmlbDliLBzdG9yZeS4rQoKCiAgICAgIHN0YXRlLnJvdXRlUGFyYW0gPSByb3V0ZVBhcmFtOwogICAgICBzdGF0ZS5yb290Um91dGUgPSByb290Um91dGU7IC8v5Yqo5oCB5re75Yqg6Lev55SxCgogICAgICByb3V0ZXIuYWRkUm91dGVzKHJvb3RSb3V0ZSk7CiAgICAgIGNvbnNvbGUubG9nKCfovpPlh7rot6/nlLE6JywgSlNPTi5zdHJpbmdpZnkocm9vdFJvdXRlKSk7CiAgICB9LAogICAgYWRkX1JvdXRlc19GcmVzaDogZnVuY3Rpb24gYWRkX1JvdXRlc19GcmVzaChzdGF0ZSkgewogICAgICAvL2lmKHN0YXRlLnJvdXRlUGFyYW0mJnN0YXRlLnJvdXRlUGFyYW0ubGVuZ3RoPjApewogICAgICB0aGlzLmNvbW1pdCgnYWRkX1JvdXRlcycsIHN0YXRlLnJvdXRlUGFyYW0pOyAvL30KICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGFkZF9Sb3V0ZXM6IGZ1bmN0aW9uIGFkZF9Sb3V0ZXMoX3JlZiwgcm91dGVQYXJhbSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbW1pdCgnYWRkX1JvdXRlcycsIHJvdXRlUGFyYW0pOwogICAgfSwKICAgIGFkZF9Sb3V0ZXNfRnJlc2g6IGZ1bmN0aW9uIGFkZF9Sb3V0ZXNfRnJlc2goX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdhZGRfUm91dGVzX0ZyZXNoJyk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhZGRSb3V0ZXM7"},{"version":3,"sources":["C:/Users/84715/Desktop/q/background-template/src/store/components/addRoutes.js"],"names":["router","routeDev","addRoutes","state","rootRoute","routeParam","mutations","add_Routes","routeList","push","name","path","component","meta","title","ROUTE_DEV","routeDevList","routeHideList","resolve","require","children","length","concat","console","log","JSON","stringify","add_Routes_Fresh","commit","actions"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AAEA;AACA;AACA;;AACA,IAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE;AACHC,IAAAA,SAAS,EAAE,EADR;AAEHC,IAAAA,UAAU,EAAE,EAFT,CAEY;;AAFZ,GADO;AAKdC,EAAAA,SAAS,EAAE;AACPC,IAAAA,UADO,sBACIJ,KADJ,EACWE,UADX,EACuB;AAC1B,UAAIG,SAAS,GAAG,EAAhB,CAD0B,CAE1B;;AACAA,MAAAA,SAAS,CAACC,IAAV,CAAe;AACXC,QAAAA,IAAI,EAAE,OADK;AAEXC,QAAAA,IAAI,EAAE,QAFK;AAGXC,QAAAA,SAAS,EAAE;AAAA,iBACP,OAAQ,mBAAR,CADO;AAAA,SAHA;AAKXC,QAAAA,IAAI,EAAE;AACFC,UAAAA,KAAK,EAAE;AADL;AALK,OAAf,EAH0B,CAY1B;;AACA,UAAIb,QAAQ,CAACc,SAAT,IAAsB,IAA1B,EAAgC;AAC5BP,QAAAA,SAAS,CAACC,IAAV,OAAAD,SAAS,qBAASP,QAAQ,CAACe,YAAlB,EAAT,CAD4B,CACc;AAC7C;;AACD,UAAIC,aAAa,GAAG,EAApB;AACA,UAAIb,SAAS,GAAG,CAAC;AACbO,QAAAA,IAAI,EAAE,GADO;AAEbC,QAAAA,SAAS,EAAE,mBAAAM,OAAO;AAAA,iBAAIC,OAAO,CAAC,CAAC,mBAAD,CAAD,EAAwBD,OAAxB,CAAX;AAAA,SAFL;AAGbL,QAAAA,IAAI,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAHO;AAIbM,QAAAA,QAAQ,EAAEZ;AAJG,OAAD,CAAhB,CAjB0B,CAuB1B;;AACA,UAAIS,aAAa,IAAIA,aAAa,CAACI,MAAd,GAAuB,CAA5C,EAA+C;AAC3CjB,QAAAA,SAAS,GAAGA,SAAS,CAACkB,MAAV,CAAiBL,aAAjB,CAAZ;AACH,OA1ByB,CA2B1B;;;AACAd,MAAAA,KAAK,CAACE,UAAN,GAAmBA,UAAnB;AACAF,MAAAA,KAAK,CAACC,SAAN,GAAkBA,SAAlB,CA7B0B,CA8B1B;;AACAJ,MAAAA,MAAM,CAACE,SAAP,CAAiBE,SAAjB;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,IAAI,CAACC,SAAL,CAAetB,SAAf,CAArB;AACH,KAlCM;AAmCPuB,IAAAA,gBAnCO,4BAmCUxB,KAnCV,EAmCiB;AACpB;AACA,WAAKyB,MAAL,CAAY,YAAZ,EAA0BzB,KAAK,CAACE,UAAhC,EAFoB,CAGhB;AACP;AAvCM,GALG;AA8CdwB,EAAAA,OAAO,EAAE;AACLtB,IAAAA,UADK,4BACkBF,UADlB,EAC8B;AAAA,UAAtBuB,MAAsB,QAAtBA,MAAsB;AAC/BA,MAAAA,MAAM,CAAC,YAAD,EAAevB,UAAf,CAAN;AACH,KAHI;AAILsB,IAAAA,gBAJK,mCAIwB;AAAA,UAAVC,MAAU,SAAVA,MAAU;AACzBA,MAAAA,MAAM,CAAC,kBAAD,CAAN;AACH;AANI;AA9CK,CAAlB;AAuDA,eAAe1B,SAAf","sourcesContent":["import router from '@/router';\nimport routeDev from '@/router/routeDev';\n\n/**\n * 动态添加按钮权限\n */\nconst addRoutes = {\n    state: {\n        rootRoute: [],\n        routeParam: [] //这里必须持久化参数,重新生成路由,因为里边的require方法没法持久化\n    },\n    mutations: {\n        add_Routes(state, routeParam) {\n            let routeList = [];\n            //添加默认路由,新用户登陆可以显示首页\n            routeList.push({\n                name: 'index',\n                path: '/index',\n                component: () =>\n                    import ('@/views/index.vue'),\n                meta: {\n                    title: '系统首页'\n                }\n            });\n            //写入开发模式下静态路由\n            if (routeDev.ROUTE_DEV == true) {\n                routeList.push(...routeDev.routeDevList); //...是es6中的 ‘点语法’ 扩展运算符\n            }\n            let routeHideList = [];\n            var rootRoute = [{\n                path: '/',\n                component: resolve => require(['@/common/Home.vue'], resolve),\n                meta: { title: '自述文件' },\n                children: routeList\n            }];\n            //添加新窗口打开的页面\n            if (routeHideList && routeHideList.length > 0) {\n                rootRoute = rootRoute.concat(routeHideList);\n            }\n            //保存路由参数到store中\n            state.routeParam = routeParam;\n            state.rootRoute = rootRoute;\n            //动态添加路由\n            router.addRoutes(rootRoute);\n            console.log('输出路由:', JSON.stringify(rootRoute));\n        },\n        add_Routes_Fresh(state) {\n            //if(state.routeParam&&state.routeParam.length>0){\n            this.commit('add_Routes', state.routeParam)\n                //}\n        }\n    },\n    actions: {\n        add_Routes({ commit }, routeParam) {\n            commit('add_Routes', routeParam)\n        },\n        add_Routes_Fresh({ commit }) {\n            commit('add_Routes_Fresh')\n        }\n    }\n}\nexport default addRoutes"]}]}