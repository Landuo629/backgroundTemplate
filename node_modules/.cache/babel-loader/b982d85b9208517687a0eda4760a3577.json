{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\common\\Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\common\\Tags.vue","mtime":1608468319926},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYnVzIGZyb20gJy4vYnVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWdzTGlzdDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUocGF0aCkgewogICAgICByZXR1cm4gcGF0aCA9PT0gdGhpcy4kcm91dGUuZnVsbFBhdGg7CiAgICB9LAogICAgLy8g5YWz6Zet5Y2V5Liq5qCH562+CiAgICBjbG9zZVRhZ3M6IGZ1bmN0aW9uIGNsb3NlVGFncyhpbmRleCkgewogICAgICB2YXIgZGVsSXRlbSA9IHRoaXMudGFnc0xpc3Quc3BsaWNlKGluZGV4LCAxKVswXTsKICAgICAgdmFyIGl0ZW0gPSB0aGlzLnRhZ3NMaXN0W2luZGV4XSA/IHRoaXMudGFnc0xpc3RbaW5kZXhdIDogdGhpcy50YWdzTGlzdFtpbmRleCAtIDFdOwoKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICBkZWxJdGVtLnBhdGggPT09IHRoaXMuJHJvdXRlLmZ1bGxQYXRoICYmIHRoaXMuJHJvdXRlci5wdXNoKGl0ZW0ucGF0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreWFqOmDqOagh+etvgogICAgY2xvc2VBbGw6IGZ1bmN0aW9uIGNsb3NlQWxsKCkgewogICAgICB0aGlzLnRhZ3NMaXN0ID0gW3sKICAgICAgICBuYW1lOiAiaW5kZXgiLAogICAgICAgIHBhdGg6ICIvaW5kZXgiLAogICAgICAgIHRpdGxlOiAi57O757uf6aaW6aG1IgogICAgICB9XTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0sCiAgICAvLyDlhbPpl63lhbbku5bmoIfnrb4KICAgIGNsb3NlT3RoZXI6IGZ1bmN0aW9uIGNsb3NlT3RoZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VySXRlbSA9IHRoaXMudGFnc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gX3RoaXMuJHJvdXRlLmZ1bGxQYXRoOwogICAgICB9KTsKICAgICAgdGhpcy50YWdzTGlzdCA9IGN1ckl0ZW07CiAgICB9LAogICAgLy8g6K6+572u5qCH562+CiAgICBzZXRUYWdzOiBmdW5jdGlvbiBzZXRUYWdzKHJvdXRlKSB7CiAgICAgIHZhciBpc0V4aXN0ID0gdGhpcy50YWdzTGlzdC5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gcm91dGUuZnVsbFBhdGg7CiAgICAgIH0pOwogICAgICAhaXNFeGlzdCAmJiB0aGlzLnRhZ3NMaXN0LnB1c2goewogICAgICAgIHRpdGxlOiByb3V0ZS5tZXRhLnRpdGxlLAogICAgICAgIHBhdGg6IHJvdXRlLmZ1bGxQYXRoLAogICAgICAgIC8vIG5hbWU6IHJvdXRlLm1hdGNoZWRbMV0uY29tcG9uZW50cy5kZWZhdWx0Lm5hbWUKICAgICAgICBuYW1lOiByb3V0ZS5uYW1lCiAgICAgIH0pOwogICAgICBidXMuJGVtaXQoJ3RhZ3MnLCB0aGlzLnRhZ3NMaXN0KTsKICAgIH0sCiAgICBoYW5kbGVUYWdzOiBmdW5jdGlvbiBoYW5kbGVUYWdzKGNvbW1hbmQpIHsKICAgICAgY29tbWFuZCA9PT0gJ290aGVyJyA/IHRoaXMuY2xvc2VPdGhlcigpIDogdGhpcy5jbG9zZUFsbCgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dUYWdzOiBmdW5jdGlvbiBzaG93VGFncygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFnc0xpc3QubGVuZ3RoID4gMDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgdGhpcy5zZXRUYWdzKG5ld1ZhbHVlKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFRhZ3ModGhpcy4kcm91dGUpOwogIH0KfTs="},{"version":3,"sources":["Tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,GAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,IADA,EACA;AACA,aAAA,IAAA,KAAA,KAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA;AACA,IAAA,SALA,qBAKA,KALA,EAKA;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,CAAA,KAAA,IAAA,KAAA,QAAA,CAAA,KAAA,CAAA,GAAA,KAAA,QAAA,CAAA,KAAA,GAAA,CAAA,CAAA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,KAAA,KAAA,MAAA,CAAA,QAAA,IAAA,KAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,KAbA;AAcA;AACA,IAAA,QAfA,sBAeA;AACA,WAAA,QAAA,GAAA,CAAA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,IAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA,CAAA;AAKA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAtBA;AAuBA;AACA,IAAA,UAxBA,wBAwBA;AAAA;;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,MAAA,CAAA,QAAA;AACA,OAFA,CAAA;AAGA,WAAA,QAAA,GAAA,OAAA;AACA,KA7BA;AA8BA;AACA,IAAA,OA/BA,mBA+BA,KA/BA,EA+BA;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,QAAA;AACA,OAFA,CAAA;AAGA,OAAA,OAAA,IAAA,KAAA,QAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KADA;AAEA,QAAA,IAAA,EAAA,KAAA,CAAA,QAFA;AAGA;AACA,QAAA,IAAA,EAAA,KAAA,CAAA;AAJA,OAAA,CAAA;AAMA,MAAA,GAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,QAAA;AACA,KA1CA;AA2CA,IAAA,UA3CA,sBA2CA,OA3CA,EA2CA;AACA,MAAA,OAAA,KAAA,OAAA,GAAA,KAAA,UAAA,EAAA,GAAA,KAAA,QAAA,EAAA;AACA;AA7CA,GANA;AAqDA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA;AACA;AAHA,GArDA;AA0DA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,QADA,EACA,QADA,EACA;AACA,WAAA,OAAA,CAAA,QAAA;AACA;AAHA,GA1DA;AA+DA,EAAA,OA/DA,qBA+DA;AACA,SAAA,OAAA,CAAA,KAAA,MAAA;AACA;AAjEA,CAAA","sourcesContent":["<template>\n    <div class=\"tags\" v-if=\"showTags\">\n        <ul>\n            <li class=\"tags-li\" v-for=\"(item,index) in tagsList\" :class=\"{'active': isActive(item.path)}\" :key=\"index\">\n                <router-link :to=\"item.path\" class=\"tags-li-title\">\n                    {{item.title}}\n                </router-link>\n                \n                <span v-show=\"item.title!='系统首页'\" class=\"tags-li-icon\" @click=\"closeTags(index)\"><i class=\"el-icon-close\"></i></span>\n            </li>\n        </ul>\n        <div class=\"tags-close-box\">\n            <el-dropdown @command=\"handleTags\">\n                <el-button size=\"small\" type=\"primary\">\n                    标签选项<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </el-button>\n                <el-dropdown-menu size=\"medium\" slot=\"dropdown\">\n                    <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\n                    <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </div>\n        \n    </div>\n</template>\n\n<script>\n    import bus from './bus';\n    export default {\n        data() {\n            return {\n                tagsList: []\n            }\n        },\n        methods: {\n            isActive(path) {\n                return path === this.$route.fullPath;\n            },\n            // 关闭单个标签\n            closeTags(index) {\n                const delItem = this.tagsList.splice(index, 1)[0];\n                const item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n                if (item) {\n                    delItem.path === this.$route.fullPath && this.$router.push(item.path);\n                }else{\n                    this.$router.push('/');\n                }\n            },\n            // 关闭全部标签\n            closeAll(){\n                this.tagsList = [{\n                    name: \"index\",\n                    path: \"/index\",\n                    title: \"系统首页\"\n                }];\n                this.$router.push('/');\n            },\n            // 关闭其他标签\n            closeOther(){\n                const curItem = this.tagsList.filter(item => {\n                    return item.path === this.$route.fullPath;\n                })\n                this.tagsList = curItem;\n            },\n            // 设置标签\n            setTags(route){\n                const isExist = this.tagsList.some(item => {\n                    return item.path === route.fullPath;\n                })\n                !isExist && this.tagsList.push({\n                    title: route.meta.title,\n                    path: route.fullPath,\n                    // name: route.matched[1].components.default.name\n                    name: route.name\n                })\n                bus.$emit('tags', this.tagsList);\n            },\n            handleTags(command){\n                command === 'other' ? this.closeOther() : this.closeAll();\n            }\n        },\n        computed: {\n            showTags() {\n                return this.tagsList.length > 0;\n            }\n        },\n        watch:{\n            $route(newValue, oldValue){\n                this.setTags(newValue);\n            }\n        },\n        created(){\n            this.setTags(this.$route);\n        }\n    }\n\n</script>\n\n\n<style lang=\"scss\">\n    $tag_height:34px;//tab高度变量\n    .tags {\n        position: relative;\n        height: $tag_height;\n        overflow: hidden;\n        background: #fff;\n        padding-right: 120px;\n        flex: 0 0 auto;\n    }\n\n    .tags ul {\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n    }\n\n    .tags-li {\n        float: left;\n        margin: 3px 5px 2px 3px;\n        border-radius: 3px;\n        font-size: 12px;\n        overflow: hidden;\n        cursor: pointer;\n        height: $tag_height - 8px;\n        line-height: $tag_height - 8px;\n        border: 1px solid #e9eaec;\n        background: #fff;\n        padding: 0 5px 0 12px;\n        vertical-align: middle;\n        color: #666;\n        -webkit-transition: all .3s ease-in;\n        -moz-transition: all .3s ease-in;\n        transition: all .3s ease-in;\n    }\n\n    .tags-li:not(.active):hover {\n        background: #f8f8f8;\n    }\n\n    .tags-li.active {\n        color: #fff;\n    }\n\n    .tags-li-title {\n        float: left;\n        max-width: 80px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        margin-right: 5px;\n        color: #666;\n    }\n\n    .tags-li.active .tags-li-title {\n        color: #fff;\n    }\n\n    .tags-close-box {\n        position: absolute;\n        right: 0;\n        top: 0;\n        box-sizing: border-box;\n        padding-top: 1px;\n        text-align: center;\n        width: 110px;\n        height: $tag_height;\n        background: #fff;\n        box-shadow: -3px 0 15px 3px rgba(0, 0, 0, .1);\n        z-index: 10;\n    }\n\n</style>\n"],"sourceRoot":"src/common"}]}