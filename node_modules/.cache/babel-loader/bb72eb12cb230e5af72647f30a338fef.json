{"remainingRequest":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84715\\Desktop\\q\\background-template\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\src\\router\\index.js","mtime":1608535159664},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84715\\Desktop\\q\\background-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTG9hZGluZyB9IGZyb20gJ2VsZW1lbnQtdWknOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICByZWRpcmVjdDogJy9pbmRleCcKfSwgewogIHBhdGg6ICcvbG9naW4nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC92aWV3cy9sb2dpbi52dWUnKTsKICB9LAogIG1ldGE6IHsKICAgIHRpdGxlOiAn55m76ZmGJwogIH0KfSwsIHsKICBwYXRoOiAnLzQwNCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbW1vbi80MDQudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy80MDMnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21tb24vNDAzLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcqJywKICByZWRpcmVjdDogJy80MDQnCn1dOwovKioKICog6K+35rGC5oum5oiq5ZmoLOa3u+WKoOWFqOWxgOWKoOi9vWxvZGluZy90b2tlbgogKi8KCnZhciBsb2FkaW5nSW5zdGFuY2U7CmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgY29uc29sZS5sb2coJz4+Puivt+axgnVybDonLCBjb25maWcudXJsKTsKICB2YXIgb3B0aW9ucyA9IHsKICAgIGxvY2s6IHRydWUsCiAgICAvL2xvY2vnmoTkv67mlLnnrKYtLem7mOiupOaYr2ZhbHNlCiAgICB0ZXh0OiAnTG9hZGluZycsCiAgICAvL+aYvuekuuWcqOWKoOi9veWbvuagh+S4i+aWueeahOWKoOi9veaWh+ahiAogICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICAvL+iHquWumuS5ieWKoOi9veWbvuagh+exu+WQjQogICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KScsCiAgICAvL+mBrue9qeWxguminOiJsgogICAgdGFyZ2V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGFibGUnKSAvL2xvYWRpbuimhueblueahGRvbeWFg+e0oOiKgueCuQoKICB9OwogIGxvYWRpbmdJbnN0YW5jZSA9IExvYWRpbmcuc2VydmljZShvcHRpb25zKTsKICA7IC8vIOmFjee9rnRva2VuCgogIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7CgogIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpKSB7CiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coJz4+Puivt+axguW8guW4uDonLCBlcnJvci5tZXNzYWdlKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy/mjqXlj6Por7fmsYLotoXml7borr7nva4KCmF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSA1MDAwOyAvL+avq+enkgoKLyoqCiAqIOW6lOetlOaLpuaIquWZqCzlhbPpl63lhajlsYDliqDovb1sb2RpbmcKICovCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlc3BvbnNlIGRhdGEKICBjb25zb2xlLmxvZygnPDw86K+35rGC5oiQ5YqfJyk7CiAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXNwb25zZSBlcnJvcgogIGNvbnNvbGUubG9nKCc8PDzlvILluLjkv6Hmga86JywgZXJyb3IubWVzc2FnZSk7CiAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcywKICBtb2RlOiAnaGlzdG9yeScKfSk7IC8v5YWo5bGA6Lev55Sx5a6I5Y2rCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOyAvLyDlpoLmnpzmsqHnmbvlvZUs6YO95a+85ZCR55m75b2V6aG1CgogIGlmICghdG9rZW4pIHsKICAgIGlmICh0by5wYXRoICE9PSAnL2xvZ2luJykgewogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/84715/Desktop/q/background-template/src/router/index.js"],"names":["Vue","VueRouter","axios","Loading","use","routes","path","redirect","component","meta","title","loadingInstance","interceptors","request","config","console","log","url","options","lock","text","spinner","background","target","document","querySelector","service","headers","sessionStorage","getItem","Authorization","error","message","Promise","reject","defaults","timeout","response","close","router","mode","beforeEach","to","from","next","token"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport axios from 'axios';\nimport { Loading } from 'element-ui';\n\nVue.use(VueRouter)\n\nconst routes = [{\n        path: '/',\n        redirect: '/index'\n    },\n    {\n        path: '/login',\n        component: () =>\n            import ('@/views/login.vue'),\n        meta: {\n            title: '登陆'\n        }\n    }, ,\n    {\n        path: '/404',\n        component: () =>\n            import ('@/common/404.vue'),\n    },\n    {\n        path: '/403',\n        component: () =>\n            import ('@/common/403.vue'),\n    },\n    {\n        path: '*',\n        redirect: '/404'\n    },\n]\n\n/**\n * 请求拦截器,添加全局加载loding/token\n */\nlet loadingInstance;\naxios.interceptors.request.use(\n    config => {\n        console.log('>>>请求url:', config.url);\n        const options = {\n            lock: true, //lock的修改符--默认是false\n            text: 'Loading', //显示在加载图标下方的加载文案\n            spinner: 'el-icon-loading', //自定义加载图标类名\n            background: 'rgba(0, 0, 0, 0.7)', //遮罩层颜色\n            target: document.querySelector('#table') //loadin覆盖的dom元素节点\n        };\n        loadingInstance = Loading.service(options);;\n        // 配置token\n        var headers = config.headers;\n        if (sessionStorage.getItem(\"token\")) {\n            headers.Authorization = sessionStorage.getItem(\"token\");\n        }\n        return config;\n    },\n    error => {\n        console.log('>>>请求异常:', error.message);\n        return Promise.reject(error);\n    });\n//接口请求超时设置\naxios.defaults.timeout = 5000; //毫秒\n/**\n * 应答拦截器,关闭全局加载loding\n */\naxios.interceptors.response.use(function(response) {\n    // Do something with response data\n    console.log('<<<请求成功');\n    loadingInstance.close();\n    return response;\n}, error => {\n    // Do something with response error\n    console.log('<<<异常信息:', error.message);\n    loadingInstance.close();\n    return Promise.reject(error);\n});\n\nconst router = new VueRouter({\n    routes,\n    mode: 'history'\n})\n\n//全局路由守卫\nrouter.beforeEach((to, from, next) => {\n    let token = sessionStorage.getItem('token');\n    // 如果没登录,都导向登录页\n    if (!token) {\n        if (to.path !== '/login') {\n            next({ path: '/login' })\n        } else {\n            next();\n        }\n    } else {\n        next();\n    }\n})\n\nexport default router"]}]}